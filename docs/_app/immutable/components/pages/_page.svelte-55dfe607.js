import{H as Y,S as Be,i as Ie,s as Ue,k as v,a as G,l as b,m as w,h as g,c as O,n as o,I as H,p as ye,b as C,F as u,A as pe,q as F,r as T,J as Je,f as q,g as Ve,t as le,d as je,u as me,K as he,L as He,v as Ge,w as Oe,x as Se,M as Re,y as $e,e as Ae,N as bt}from"../../chunks/index-67b12788.js";import{b as ce,U as D,f as _t,B as ve}from"../../chunks/blockUtil-d6cb8bec.js";import{w as De}from"../../chunks/index-a72f0726.js";const kt={key:"en-us",language:"English",strings:{"splash-header":"Did you know?"},upgrades:{dirt:{title:"Dirt",description:""},grass:{title:"Grass",description:""},log:{title:"Log",description:""},stone:{title:"Stone",description:""},cobblestone:{title:"Cobblestone",description:""}},splashes:["Click the block!","Hi!"]},yt={key:"pl-pl",language:"Polski",strings:{"splash-header":"Czy wiesz \u017Ce?"},upgrades:{dirt:{title:"Ziemia",description:""},grass:{title:"Trawa",description:""},log:{title:"K\u0142oda",description:""},stone:{title:"Kamie\u0144",description:""},cobblestone:{title:"Bruk",description:""}},splashes:["Klikaj w blok!","Witaj!"]};Array.prototype.pick=function(){return this[Math.floor(Math.random()*this.length)]};const Xe="en-us";let Et=Xe;const wt=[yt,kt];function Bt(t){let e=Ye().upgrades[t];return e||(e=dt().upgrades[t]),e}function It(){return Ye().splashes.pick()}function Ut(t,e){let s=Ye().strings[t];return s||(s=dt().strings[t]),s!=null?s:e}function Ye(){var t;return(t=xe(Et))!=null?t:xe(Xe)}function dt(){return xe(Xe)}function xe(t){return wt.find(e=>e.key===t)}class Dt extends Error{constructor(e,s){super(e,s),this.name="IllegalStateError"}}let ae=De(0),ue=De(1),de=De(0),be=De(0);const Mt=[ae,ue,de,be];function Kt(){Mt.forEach(t=>{t.subscribe(Lt)})}function Lt(){try{if(!localStorage)return}catch{return}localStorage.setItem("save",JSON.stringify({blocks:Y(ae),multiplier:Y(ue),bps:Y(de),blockUpgradeIndex:Y(be)}))}function Vt(){var e,s,l,r,a;let t=JSON.parse((e=localStorage.getItem("save"))!=null?e:"{}");t&&(ae.set((s=t.blocks)!=null?s:0),ue.set((l=t.multiplier)!=null?l:1),de.set((r=t.bps)!=null?r:0),be.set((a=t.blockUpgradeIndex)!=null?a:0))}class Ke{constructor(e,s,l,r,a){this.left=e,this.top=s,this.right=l,this.getters=r,this.setters=a,this.ForceApplyBlockUpgrade(ce[Y(be)],!0)}static toArbitiaryBlock(e){var r;let s=(r=Bt(e.namespace))!=null?r:{title:void 0,description:void 0},l=`${D}/img/placeholder.png`;switch(e.textureMode){case"all":l=`${D}/img/blocks/${e.namespace}/all.${e.imageExtension}`;break;case"bottomtop":l=`${D}/img/blocks/${e.namespace}/bottom.${e.imageExtension}`;break;case"sided":l=`${D}/img/blocks/${e.namespace}/left.${e.imageExtension}`;break}return{description:s.description,title:s.title,namespace:e.namespace,icon:l,price:e.price,upgradeValues:e.upgradeValues}}static fromArbitiaryBlock(e){return ce.find(s=>s.namespace===e.namespace)}GetBlockUpgradeIndex(){return Y(be)}GetBlockUpgrade(){return ce[this.GetBlockUpgradeIndex()]}GetNextBlockUpgrade(){return ce[this.GetBlockUpgradeIndex()+1]}GetNextBlockUpgradeSure(){return this.GetNextBlockUpgrade()}ApplyBlockUpgrade(e){return e&&this.getters.getBlocks()>=e.price&&!e.isDisabled?(this.ForceApplyBlockUpgrade(e),!0):!1}ForceApplyBlockUpgrade(e,s=!1){switch(s||(this.setters.setBlocks(this.getters.getBlocks()-e.price),this.setters.setBps(this.getters.getBps()+e.upgradeValues.bps),this.setters.setMultiplier(this.getters.getMultiplier()+e.upgradeValues.multiplier)),e.textureMode){case"all":this.left.src=`${D}/img/blocks/${e.namespace}/all.jpg`,this.top.src=`${D}/img/blocks/${e.namespace}/all.jpg`,this.right.src=`${D}/img/blocks/${e.namespace}/all.jpg`,this.setFavicon(`${D}/img/blocks/${e.namespace}/all.jpg`);break;case"bottomtop":this.left.src=`${D}/img/blocks/${e.namespace}/bottom.jpg`,this.top.src=`${D}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${D}/img/blocks/${e.namespace}/bottom.jpg`,this.setFavicon(`${D}/img/blocks/${e.namespace}/bottom.jpg`);break;case"sided":this.left.src=`${D}/img/blocks/${e.namespace}/left.jpg`,this.top.src=`${D}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${D}/img/blocks/${e.namespace}/right.jpg`,this.setFavicon(`${D}/img/blocks/${e.namespace}/left.jpg`);break}if(!_t(e.namespace))throw new Dt(`Upgrade with namespace "${e.namespace} is not registered`);be.set(ce.findIndex(l=>l.namespace===e.namespace))}setFavicon(e){var s=document.querySelector("link[rel~='icon']");s||(s=document.createElement("link"),s.rel="icon",document.getElementsByTagName("head")[0].appendChild(s)),s.href=e}}function jt(t){let e,s,l,r,a,n,c,i,d,f,y,p,k;return{c(){e=v("div"),s=v("div"),l=v("div"),r=v("img"),n=G(),c=v("div"),i=v("img"),f=G(),y=v("div"),p=v("img"),this.h()},l(h){e=b(h,"DIV",{style:!0});var B=w(e);s=b(B,"DIV",{class:!0,style:!0});var E=w(s);l=b(E,"DIV",{class:!0});var U=w(l);r=b(U,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),U.forEach(g),n=O(E),c=b(E,"DIV",{class:!0});var M=w(c);i=b(M,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),M.forEach(g),f=O(E),y=b(E,"DIV",{class:!0});var S=w(y);p=b(S,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),S.forEach(g),E.forEach(g),B.forEach(g),this.h()},h(){o(r,"alt",""),o(r,"draggable","false"),H(r.src,a=t[2])||o(r,"src",a),o(r,"class","svelte-1h4uipw"),o(l,"class","right svelte-1h4uipw"),o(i,"alt",""),o(i,"draggable","false"),H(i.src,d=t[1])||o(i,"src",d),o(i,"class","svelte-1h4uipw"),o(c,"class","left svelte-1h4uipw"),o(p,"alt",""),o(p,"draggable","false"),H(p.src,k=t[3])||o(p,"src",k),o(p,"class","svelte-1h4uipw"),o(y,"class","top svelte-1h4uipw"),o(s,"class","block-render svelte-1h4uipw"),ye(s,"width","100%"),ye(s,"height","100%"),o(e,"style",t[0])},m(h,B){C(h,e,B),u(e,s),u(s,l),u(l,r),u(s,n),u(s,c),u(c,i),u(s,f),u(s,y),u(y,p)},p(h,[B]){B&4&&!H(r.src,a=h[2])&&o(r,"src",a),B&2&&!H(i.src,d=h[1])&&o(i,"src",d),B&8&&!H(p.src,k=h[3])&&o(p,"src",k),B&1&&o(e,"style",h[0])},i:pe,o:pe,d(h){h&&g(e)}}}function At(t,e,s){let{namespace:l="_null"}=e,{style:r=""}=e,a=ce.find(f=>f.namespace===(l!=null?l:"_null")),n="",c="",i="";n=ve.GetBlockTexture(a,"left"),c=ve.GetBlockTexture(a,"right"),i=ve.GetBlockTexture(a,"top");function d(){a=ce.find(f=>f.namespace===(l!=null?l:"_null")),s(1,n=ve.GetBlockTexture(a,"left")),s(2,c=ve.GetBlockTexture(a,"right")),s(3,i=ve.GetBlockTexture(a,"top"))}return t.$$set=f=>{"namespace"in f&&s(4,l=f.namespace),"style"in f&&s(0,r=f.style)},t.$$.update=()=>{t.$$.dirty&16&&d()},[r,n,c,i,l]}class Gt extends Be{constructor(e){super(),Ie(this,e,At,jt,Ue,{namespace:4,style:0})}}function lt(t){let e,s,l;function r(n){t[6](n)}let a={style:"position: relative; transform: scale(.7) translate(30%, -100%); top: 35%"};return t[4]!==void 0&&(a.namespace=t[4]),e=new Gt({props:a}),he.push(()=>He(e,"namespace",r)),{c(){Ge(e.$$.fragment)},l(n){Oe(e.$$.fragment,n)},m(n,c){Se(e,n,c),l=!0},p(n,c){const i={};!s&&c&16&&(s=!0,i.namespace=n[4],Re(()=>s=!1)),e.$set(i)},i(n){l||(q(e.$$.fragment,n),l=!0)},o(n){le(e.$$.fragment,n),l=!1},d(n){$e(e,n)}}}function rt(t){let e;function s(a,n){return a[0].namespace!=="_null"?St:Ot}let l=s(t),r=l(t);return{c(){r.c(),e=Ae()},l(a){r.l(a),e=Ae()},m(a,n){r.m(a,n),C(a,e,n)},p(a,n){l===(l=s(a))&&r?r.p(a,n):(r.d(1),r=l(a),r&&(r.c(),r.m(e.parentNode,e)))},d(a){r.d(a),a&&g(e)}}}function Ot(t){let e,s,l,r,a;return{c(){e=v("h1"),s=F(t[2]),l=G(),r=v("div"),a=F("You have reached max level."),this.h()},l(n){e=b(n,"H1",{class:!0});var c=w(e);s=T(c,t[2]),c.forEach(g),l=O(n),r=b(n,"DIV",{});var i=w(r);a=T(i,"You have reached max level."),i.forEach(g),this.h()},h(){o(e,"class","svelte-1pbmhuc")},m(n,c){C(n,e,c),u(e,s),C(n,l,c),C(n,r,c),u(r,a)},p(n,c){c&4&&me(s,n[2])},d(n){n&&g(e),n&&g(l),n&&g(r)}}}function St(t){let e,s,l,r,a,n=t[0].title+"",c;return{c(){e=v("h1"),s=F(t[2]),l=G(),r=v("div"),a=F("Upgrade to "),c=F(n),this.h()},l(i){e=b(i,"H1",{class:!0});var d=w(e);s=T(d,t[2]),d.forEach(g),l=O(i),r=b(i,"DIV",{});var f=w(r);a=T(f,"Upgrade to "),c=T(f,n),f.forEach(g),this.h()},h(){o(e,"class","svelte-1pbmhuc")},m(i,d){C(i,e,d),u(e,s),C(i,l,d),C(i,r,d),u(r,a),u(r,c)},p(i,d){d&4&&me(s,i[2]),d&1&&n!==(n=i[0].title+"")&&me(c,n)},d(i){i&&g(e),i&&g(l),i&&g(r)}}}function $t(t){var B;let e,s,l,r,a,n,c=((B=t[0])==null?void 0:B.price)+"",i,d,f,y,p,k=t[0]&&lt(t),h=t[0]&&rt(t);return{c(){e=v("div"),s=v("div"),k&&k.c(),l=G(),r=v("div"),h&&h.c(),a=G(),n=v("div"),i=F(c),d=F(" blocks"),this.h()},l(E){e=b(E,"DIV",{class:!0});var U=w(e);s=b(U,"DIV",{class:!0});var M=w(s);k&&k.l(M),M.forEach(g),l=O(U),r=b(U,"DIV",{class:!0});var S=w(r);h&&h.l(S),S.forEach(g),a=O(U),n=b(U,"DIV",{class:!0});var j=w(n);i=T(j,c),d=T(j," blocks"),j.forEach(g),U.forEach(g),this.h()},h(){o(s,"class","left-side svelte-1pbmhuc"),o(r,"class","right-side"),o(n,"class","bottom-right svelte-1pbmhuc"),o(e,"class","upgrade svelte-1pbmhuc")},m(E,U){C(E,e,U),u(e,s),k&&k.m(s,null),u(e,l),u(e,r),h&&h.m(r,null),u(e,a),u(e,n),u(n,i),u(n,d),t[7](e),f=!0,y||(p=Je(e,"click",t[8]),y=!0)},p(E,[U]){var M;E[0]?k?(k.p(E,U),U&1&&q(k,1)):(k=lt(E),k.c(),q(k,1),k.m(s,null)):k&&(Ve(),le(k,1,1,()=>{k=null}),je()),E[0]?h?h.p(E,U):(h=rt(E),h.c(),h.m(r,null)):h&&(h.d(1),h=null),(!f||U&1)&&c!==(c=((M=E[0])==null?void 0:M.price)+"")&&me(i,c)},i(E){f||(q(k),f=!0)},o(E){le(k),f=!1},d(E){E&&g(e),k&&k.d(),h&&h.d(),t[7](null),y=!1,p()}}}function Ct(t,e,s){let{upgrade:l}=e,{onUpgrade:r}=e,{title:a=l?l.title:""}=e,{isExpesnive:n=!1}=e,c="",i;function d(p){c=p,s(4,c),s(0,l)}function f(p){he[p?"unshift":"push"](()=>{i=p,s(3,i)})}const y=()=>l?r(l):null;return t.$$set=p=>{"upgrade"in p&&s(0,l=p.upgrade),"onUpgrade"in p&&s(1,r=p.onUpgrade),"title"in p&&s(2,a=p.title),"isExpesnive"in p&&s(5,n=p.isExpesnive)},t.$$.update=()=>{t.$$.dirty&41&&i&&(n||!l?i.setAttribute("expensive",""):i.removeAttribute("expensive")),t.$$.dirty&1&&l&&s(4,c=l.namespace)},[l,r,a,i,c,n,d,f,y]}class zt extends Be{constructor(e){super(),Ie(this,e,Ct,$t,Ue,{upgrade:0,onUpgrade:1,title:2,isExpesnive:5})}}class Nt{constructor(e,s){this.onFinishLoading=e,this.additionalTasks=s!=null?s:[]}async startLoading(){await new Promise(e=>{var s=setInterval(()=>{try{window!=null&&(clearInterval(s),e(null))}catch(l){let r=l;r.message.includes(" is not defined")||console.error(r)}},5)}),await new Promise(e=>{var s=setInterval(()=>{try{document!=null&&(clearInterval(s),e(null))}catch(l){let r=l;r.message.includes(" is not defined")||console.error(r)}},5)}),Vt(),Kt(),await this.sleep(2e3);for(let e=0;e<this.additionalTasks.length;e++){let s=this.additionalTasks[e];await s()}this.onFinishLoading()}async sleep(e){await new Promise(s=>setTimeout(()=>s(null),e))}}function Pt(t){let e,s,l,r,a,n,c,i,d,f,y,p,k,h,B,E,U,M,S,j,ie,ee,J,x,W,te,Z,m,$,re,se,K,A=Ut("splash-header","header")+"",N,V,_=It()+"",I;return{c(){e=v("div"),s=v("div"),r=G(),a=v("h1"),n=F("Block Clicker"),c=G(),i=v("div"),d=v("div"),f=v("div"),y=v("div"),p=v("img"),h=G(),B=v("div"),E=v("img"),M=G(),S=v("div"),j=v("img"),ee=G(),J=v("div"),x=v("img"),te=G(),Z=v("div"),m=v("img"),re=G(),se=v("div"),K=v("h1"),N=F(A),V=G(),I=F(_),this.h()},l(X){e=b(X,"DIV",{class:!0});var P=w(e);s=b(P,"DIV",{class:!0,src:!0,style:!0});var _e=w(s);_e.forEach(g),r=O(P),a=b(P,"H1",{class:!0});var oe=w(a);n=T(oe,"Block Clicker"),oe.forEach(g),c=O(P),i=b(P,"DIV",{class:!0,style:!0});var ge=w(i);d=b(ge,"DIV",{class:!0});var ke=w(d);f=b(ke,"DIV",{class:!0});var Q=w(f);y=b(Q,"DIV",{class:!0});var We=w(y);p=b(We,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),We.forEach(g),h=O(Q),B=b(Q,"DIV",{class:!0});var Ze=w(B);E=b(Ze,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Ze.forEach(g),M=O(Q),S=b(Q,"DIV",{class:!0});var Qe=w(S);j=b(Qe,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Qe.forEach(g),ee=O(Q),J=b(Q,"DIV",{class:!0});var et=w(J);x=b(et,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),et.forEach(g),te=O(Q),Z=b(Q,"DIV",{class:!0});var tt=w(Z);m=b(tt,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),tt.forEach(g),Q.forEach(g),ke.forEach(g),re=O(ge),se=b(ge,"DIV",{class:!0});var Me=w(se);K=b(Me,"H1",{class:!0});var st=w(K);N=T(st,A),st.forEach(g),V=O(Me),I=T(Me,_),Me.forEach(g),ge.forEach(g),P.forEach(g),this.h()},h(){o(s,"class","bg-img svelte-1g39z9o"),H(s.src,l=t[5]())||o(s,"src",l),ye(s,"background-image","url("+t[5]()+")"),o(a,"class","header svelte-1g39z9o"),o(p,"alt",""),o(p,"draggable","false"),H(p.src,k=t[2])||o(p,"src",k),o(p,"class","svelte-1g39z9o"),o(y,"class","backright svelte-1g39z9o"),o(E,"alt",""),o(E,"draggable","false"),H(E.src,U=t[3])||o(E,"src",U),o(E,"class","svelte-1g39z9o"),o(B,"class","backleft svelte-1g39z9o"),o(j,"alt",""),o(j,"draggable","false"),H(j.src,ie=t[1])||o(j,"src",ie),o(j,"class","svelte-1g39z9o"),o(S,"class","right svelte-1g39z9o"),o(x,"alt",""),o(x,"draggable","false"),H(x.src,W=t[0])||o(x,"src",W),o(x,"class","svelte-1g39z9o"),o(J,"class","left svelte-1g39z9o"),o(m,"alt",""),o(m,"draggable","false"),H(m.src,$=t[4])||o(m,"src",$),o(m,"class","svelte-1g39z9o"),o(Z,"class","top svelte-1g39z9o"),o(f,"class","block-cube svelte-1g39z9o"),o(d,"class","cube-wrapper svelte-1g39z9o"),o(K,"class","svelte-1g39z9o"),o(se,"class","splash svelte-1g39z9o"),o(i,"class","bg svelte-1g39z9o"),ye(i,"--background-image","url("+t[5]()+")"),o(e,"class","bg svelte-1g39z9o")},m(X,P){C(X,e,P),u(e,s),u(e,r),u(e,a),u(a,n),u(e,c),u(e,i),u(i,d),u(d,f),u(f,y),u(y,p),u(f,h),u(f,B),u(B,E),u(f,M),u(f,S),u(S,j),u(f,ee),u(f,J),u(J,x),u(f,te),u(f,Z),u(Z,m),u(i,re),u(i,se),u(se,K),u(K,N),u(se,V),u(se,I)},p(X,[P]){P&4&&!H(p.src,k=X[2])&&o(p,"src",k),P&8&&!H(E.src,U=X[3])&&o(E,"src",U),P&2&&!H(j.src,ie=X[1])&&o(j,"src",ie),P&1&&!H(x.src,W=X[0])&&o(x,"src",W),P&16&&!H(m.src,$=X[4])&&o(m,"src",$)},i:pe,o:pe,d(X){X&&g(e)}}}function Ft(t,e,s){let l,r,a,n,c,i=ce.filter(f=>f.textureMode!=="sided"&&!f.isDisabled).pick();function d(){return i.textureMode==="all"?`${D}/img/blocks/${i.namespace}/all.${i.imageExtension}`:`${D}/img/blocks/${i.namespace}/bottom.${i.imageExtension}`}switch(i.textureMode){case"all":l=`${D}/img/blocks/${i.namespace}/all.jpg`,c=`${D}/img/blocks/${i.namespace}/all.jpg`,r=`${D}/img/blocks/${i.namespace}/all.jpg`,a=`${D}/img/blocks/${i.namespace}/all.jpg`,n=`${D}/img/blocks/${i.namespace}/all.jpg`;break;case"bottomtop":l=`${D}/img/blocks/${i.namespace}/bottom.jpg`,c=`${D}/img/blocks/${i.namespace}/top.jpg`,r=`${D}/img/blocks/${i.namespace}/bottom.jpg`,a=`${D}/img/blocks/${i.namespace}/bottom.jpg`,n=`${D}/img/blocks/${i.namespace}/bottom.jpg`;break}return[l,r,a,n,c,d]}class Tt extends Be{constructor(e){super(),Ie(this,e,Ft,Pt,Ue,{})}}function Ht(t){let e,s,l,r,a,n;return{c(){e=v("div"),s=v("div"),l=v("h1"),r=F("Block Clicker debugmenu"),this.h()},l(c){e=b(c,"DIV",{id:!0,class:!0});var i=w(e);s=b(i,"DIV",{class:!0});var d=w(s);l=b(d,"H1",{style:!0});var f=w(l);r=T(f,"Block Clicker debugmenu"),f.forEach(g),d.forEach(g),i.forEach(g),this.h()},h(){ye(l,"text-align","center"),o(s,"class","inner-parent svelte-141t99x"),o(e,"id","debug-menu"),o(e,"class","svelte-141t99x")},m(c,i){C(c,e,i),u(e,s),u(s,l),u(l,r),a||(n=Je(e,"click",t[1]),a=!0)},p:pe,i:pe,o:pe,d(c){c&&g(e),a=!1,n()}}}function Rt(t){const e=bt();function s(r){r.target===this&&(console.log(typeof this),e("dimissed"))}return[s,function(r){s.bind(this)(r)}]}class xt extends Be{constructor(e){super(),Ie(this,e,Rt,Ht,Ue,{})}}var ze=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Ne(t,e,s,l){t.addEventListener?t.addEventListener(e,s,l):t.attachEvent&&t.attachEvent("on".concat(e),function(){s(window.event)})}function pt(t,e){for(var s=e.slice(0,e.length-1),l=0;l<s.length;l++)s[l]=t[s[l].toLowerCase()];return s}function gt(t){typeof t!="string"&&(t=""),t=t.replace(/\s/g,"");for(var e=t.split(","),s=e.lastIndexOf("");s>=0;)e[s-1]+=",",e.splice(s,1),s=e.lastIndexOf("");return e}function qt(t,e){for(var s=t.length>=e.length?t:e,l=t.length>=e.length?e:t,r=!0,a=0;a<s.length;a++)l.indexOf(s[a])===-1&&(r=!1);return r}var Ee={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":ze?173:189,"=":ze?61:187,";":ze?59:186,"'":222,"[":219,"]":221,"\\":220},ne={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},qe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},R={16:!1,18:!1,17:!1,91:!1},z={};for(var Le=1;Le<20;Le++)Ee["f".concat(Le)]=111+Le;var L=[],it=!1,mt="all",ht=[],Ce=function(e){return Ee[e.toLowerCase()]||ne[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},Jt=function(e){return Object.keys(Ee).find(function(s){return Ee[s]===e})},Xt=function(e){return Object.keys(ne).find(function(s){return ne[s]===e})};function vt(t){mt=t||"all"}function we(){return mt||"all"}function Yt(){return L.slice(0)}function Wt(){return L.map(function(t){return Jt(t)||Xt(t)||String.fromCharCode(t)})}function Zt(t){var e=t.target||t.srcElement,s=e.tagName,l=!0;return(e.isContentEditable||(s==="INPUT"||s==="TEXTAREA"||s==="SELECT")&&!e.readOnly)&&(l=!1),l}function Qt(t){return typeof t=="string"&&(t=Ce(t)),L.indexOf(t)!==-1}function es(t,e){var s,l;t||(t=we());for(var r in z)if(Object.prototype.hasOwnProperty.call(z,r))for(s=z[r],l=0;l<s.length;)s[l].scope===t?s.splice(l,1):l++;we()===t&&vt(e||"all")}function ts(t){var e=t.keyCode||t.which||t.charCode,s=L.indexOf(e);if(s>=0&&L.splice(s,1),t.key&&t.key.toLowerCase()==="meta"&&L.splice(0,L.length),(e===93||e===224)&&(e=91),e in R){R[e]=!1;for(var l in ne)ne[l]===e&&(fe[l]=!1)}}function ss(t){if(typeof t>"u")Object.keys(z).forEach(function(n){return delete z[n]});else if(Array.isArray(t))t.forEach(function(n){n.key&&Pe(n)});else if(typeof t=="object")t.key&&Pe(t);else if(typeof t=="string"){for(var e=arguments.length,s=new Array(e>1?e-1:0),l=1;l<e;l++)s[l-1]=arguments[l];var r=s[0],a=s[1];typeof r=="function"&&(a=r,r=""),Pe({key:t,scope:r,method:a,splitKey:"+"})}}var Pe=function(e){var s=e.key,l=e.scope,r=e.method,a=e.splitKey,n=a===void 0?"+":a,c=gt(s);c.forEach(function(i){var d=i.split(n),f=d.length,y=d[f-1],p=y==="*"?"*":Ce(y);if(!!z[p]){l||(l=we());var k=f>1?pt(ne,d):[];z[p]=z[p].filter(function(h){var B=r?h.method===r:!0;return!(B&&h.scope===l&&qt(h.mods,k))})}})};function at(t,e,s,l){if(e.element===l){var r;if(e.scope===s||e.scope==="all"){r=e.mods.length>0;for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&(!R[a]&&e.mods.indexOf(+a)>-1||R[a]&&e.mods.indexOf(+a)===-1)&&(r=!1);(e.mods.length===0&&!R[16]&&!R[18]&&!R[17]&&!R[91]||r||e.shortcut==="*")&&e.method(t,e)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}}function nt(t,e){var s=z["*"],l=t.keyCode||t.which||t.charCode;if(!!fe.filter.call(this,t)){if((l===93||l===224)&&(l=91),L.indexOf(l)===-1&&l!==229&&L.push(l),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(h){var B=qe[h];t[h]&&L.indexOf(B)===-1?L.push(B):!t[h]&&L.indexOf(B)>-1?L.splice(L.indexOf(B),1):h==="metaKey"&&t[h]&&L.length===3&&(t.ctrlKey||t.shiftKey||t.altKey||(L=L.slice(L.indexOf(B))))}),l in R){R[l]=!0;for(var r in ne)ne[r]===l&&(fe[r]=!0);if(!s)return}for(var a in R)Object.prototype.hasOwnProperty.call(R,a)&&(R[a]=t[qe[a]]);t.getModifierState&&!(t.altKey&&!t.ctrlKey)&&t.getModifierState("AltGraph")&&(L.indexOf(17)===-1&&L.push(17),L.indexOf(18)===-1&&L.push(18),R[17]=!0,R[18]=!0);var n=we();if(s)for(var c=0;c<s.length;c++)s[c].scope===n&&(t.type==="keydown"&&s[c].keydown||t.type==="keyup"&&s[c].keyup)&&at(t,s[c],n,e);if(l in z){for(var i=0;i<z[l].length;i++)if((t.type==="keydown"&&z[l][i].keydown||t.type==="keyup"&&z[l][i].keyup)&&z[l][i].key){for(var d=z[l][i],f=d.splitKey,y=d.key.split(f),p=[],k=0;k<y.length;k++)p.push(Ce(y[k]));p.sort().join("")===L.sort().join("")&&at(t,d,n,e)}}}}function ls(t){return ht.indexOf(t)>-1}function fe(t,e,s){L=[];var l=gt(t),r=[],a="all",n=document,c=0,i=!1,d=!0,f="+",y=!1;for(s===void 0&&typeof e=="function"&&(s=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(a=e.scope),e.element&&(n=e.element),e.keyup&&(i=e.keyup),e.keydown!==void 0&&(d=e.keydown),e.capture!==void 0&&(y=e.capture),typeof e.splitKey=="string"&&(f=e.splitKey)),typeof e=="string"&&(a=e);c<l.length;c++)t=l[c].split(f),r=[],t.length>1&&(r=pt(ne,t)),t=t[t.length-1],t=t==="*"?"*":Ce(t),t in z||(z[t]=[]),z[t].push({keyup:i,keydown:d,scope:a,mods:r,shortcut:l[c],method:s,key:l[c],splitKey:f,element:n});typeof n<"u"&&!ls(n)&&window&&(ht.push(n),Ne(n,"keydown",function(p){nt(p,n)},y),it||(it=!0,Ne(window,"focus",function(){L=[]},y)),Ne(n,"keyup",function(p){nt(p,n),ts(p)},y))}function rs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(z).forEach(function(s){var l=z[s].find(function(r){return r.scope===e&&r.shortcut===t});l&&l.method&&l.method()})}var Fe={getPressedKeyString:Wt,setScope:vt,getScope:we,deleteScope:es,getPressedKeyCodes:Yt,isPressed:Qt,filter:Zt,trigger:rs,unbind:ss,keyMap:Ee,modifier:ne,modifierMap:qe};for(var Te in Fe)Object.prototype.hasOwnProperty.call(Fe,Te)&&(fe[Te]=Fe[Te]);if(typeof window<"u"){var is=window.hotkeys;fe.noConflict=function(t){return t&&window.hotkeys===fe&&(window.hotkeys=is),fe},window.hotkeys=fe}function ot(t){let e,s;return e=new Tt({}),{c(){Ge(e.$$.fragment)},l(l){Oe(e.$$.fragment,l)},m(l,r){Se(e,l,r),s=!0},i(l){s||(q(e.$$.fragment,l),s=!0)},o(l){le(e.$$.fragment,l),s=!1},d(l){$e(e,l)}}}function ct(t){let e,s;return e=new xt({}),e.$on("dimissed",t[13]),{c(){Ge(e.$$.fragment)},l(l){Oe(e.$$.fragment,l)},m(l,r){Se(e,l,r),s=!0},p:pe,i(l){s||(q(e.$$.fragment,l),s=!0)},o(l){le(e.$$.fragment,l),s=!1},d(l){$e(e,l)}}}function ft(t){let e,s;return{c(){e=v("sub"),s=F("DEBUG ENABLED")},l(l){e=b(l,"SUB",{});var r=w(e);s=T(r,"DEBUG ENABLED"),r.forEach(g)},m(l,r){C(l,e,r),u(e,s)},d(l){l&&g(e)}}}function ut(t){let e,s,l,r,a;function n(d){t[18](d)}function c(d){t[19](d)}let i={onUpgrade:t[12],title:"Block upgrade"};return t[6]!==void 0&&(i.isExpesnive=t[6]),t[0]!==void 0&&(i.upgrade=t[0]),s=new zt({props:i}),he.push(()=>He(s,"isExpesnive",n)),he.push(()=>He(s,"upgrade",c)),{c(){e=v("div"),Ge(s.$$.fragment),this.h()},l(d){e=b(d,"DIV",{class:!0});var f=w(e);Oe(s.$$.fragment,f),f.forEach(g),this.h()},h(){o(e,"class","upgrades")},m(d,f){C(d,e,f),Se(s,e,null),a=!0},p(d,f){const y={};!l&&f&64&&(l=!0,y.isExpesnive=d[6],Re(()=>l=!1)),!r&&f&1&&(r=!0,y.upgrade=d[0],Re(()=>r=!1)),s.$set(y)},i(d){a||(q(s.$$.fragment,d),a=!0)},o(d){le(s.$$.fragment,d),a=!1},d(d){d&&g(e),$e(s)}}}function as(t){let e,s,l,r,a=Math.trunc(t[9])+"",n,c,i,d,f,y,p,k,h,B,E,U,M,S,j,ie,ee,J,x,W,te,Z,m,$,re,se,K=!t[4]&&ot(),A=t[7]&&t[8]&&ct(t),N=t[7]&&ft(),V=t[5]&&ut(t);return{c(){K&&K.c(),e=G(),A&&A.c(),s=G(),l=v("div"),r=v("h1"),n=F(a),c=F(" blocks"),i=G(),d=v("h3"),f=F("x"),y=F(t[10]),p=G(),k=v("h3"),h=F(t[11]),B=F(" bps"),E=G(),N&&N.c(),U=G(),M=v("div"),S=v("div"),j=v("img"),ie=G(),ee=v("div"),J=v("img"),x=G(),W=v("div"),te=v("img"),Z=G(),V&&V.c(),m=Ae(),this.h()},l(_){K&&K.l(_),e=O(_),A&&A.l(_),s=O(_),l=b(_,"DIV",{class:!0});var I=w(l);r=b(I,"H1",{});var X=w(r);n=T(X,a),c=T(X," blocks"),X.forEach(g),i=O(I),d=b(I,"H3",{});var P=w(d);f=T(P,"x"),y=T(P,t[10]),P.forEach(g),p=O(I),k=b(I,"H3",{});var _e=w(k);h=T(_e,t[11]),B=T(_e," bps"),_e.forEach(g),E=O(I),N&&N.l(I),I.forEach(g),U=O(_),M=b(_,"DIV",{id:!0});var oe=w(M);S=b(oe,"DIV",{class:!0});var ge=w(S);j=b(ge,"IMG",{alt:!0,draggable:!0}),ge.forEach(g),ie=O(oe),ee=b(oe,"DIV",{class:!0});var ke=w(ee);J=b(ke,"IMG",{alt:!0,draggable:!0}),ke.forEach(g),x=O(oe),W=b(oe,"DIV",{class:!0});var Q=w(W);te=b(Q,"IMG",{alt:!0,draggable:!0}),Q.forEach(g),oe.forEach(g),Z=O(_),V&&V.l(_),m=Ae(),this.h()},h(){o(l,"class","blocks-header"),o(j,"alt",""),o(j,"draggable","false"),o(S,"class","right"),o(J,"alt",""),o(J,"draggable","false"),o(ee,"class","left"),o(te,"alt",""),o(te,"draggable","false"),o(W,"class","top"),o(M,"id","block")},m(_,I){K&&K.m(_,I),C(_,e,I),A&&A.m(_,I),C(_,s,I),C(_,l,I),u(l,r),u(r,n),u(r,c),u(l,i),u(l,d),u(d,f),u(d,y),u(l,p),u(l,k),u(k,h),u(k,B),u(l,E),N&&N.m(l,null),C(_,U,I),C(_,M,I),u(M,S),u(S,j),t[14](j),u(M,ie),u(M,ee),u(ee,J),t[15](J),u(M,x),u(M,W),u(W,te),t[16](te),C(_,Z,I),V&&V.m(_,I),C(_,m,I),$=!0,re||(se=Je(M,"click",t[17]),re=!0)},p(_,[I]){_[4]?K&&(Ve(),le(K,1,1,()=>{K=null}),je()):K?I&16&&q(K,1):(K=ot(),K.c(),q(K,1),K.m(e.parentNode,e)),_[7]&&_[8]?A?(A.p(_,I),I&384&&q(A,1)):(A=ct(_),A.c(),q(A,1),A.m(s.parentNode,s)):A&&(Ve(),le(A,1,1,()=>{A=null}),je()),(!$||I&512)&&a!==(a=Math.trunc(_[9])+"")&&me(n,a),(!$||I&1024)&&me(y,_[10]),(!$||I&2048)&&me(h,_[11]),_[7]?N||(N=ft(),N.c(),N.m(l,null)):N&&(N.d(1),N=null),_[5]?V?(V.p(_,I),I&32&&q(V,1)):(V=ut(_),V.c(),q(V,1),V.m(m.parentNode,m)):V&&(Ve(),le(V,1,1,()=>{V=null}),je())},i(_){$||(q(K),q(A),q(V),$=!0)},o(_){le(K),le(A),le(V),$=!1},d(_){K&&K.d(_),_&&g(e),A&&A.d(_),_&&g(s),_&&g(l),N&&N.d(),_&&g(U),_&&g(M),t[14](null),t[15](null),t[16](null),_&&g(Z),V&&V.d(_),_&&g(m),re=!1,se()}}}function ns(t,e,s){let l,r,a,n=De(!1),c=!1,i,d=new Nt(j),f,y=!0,p=!1,k=!1,h=Y(ae),B=Y(ue),E=Y(de);ae.subscribe(m=>s(9,h=m)),ue.subscribe(m=>s(10,B=m)),de.subscribe(m=>s(11,E=m)),setInterval(()=>{let m=Y(de)*.01;ae.update($=>$+m)},1),n.subscribe(m=>s(4,c=m)),d.startLoading(),ae.subscribe(m=>{try{document.title=`${Math.trunc(h)} blocks - Block Clicker`,f&&s(6,y=f.price>m||f.namespace==="_null")}catch($){console.error($)}});const U={getBlocks:()=>Y(ae),getMultiplier:()=>Y(ue),getBps:()=>Y(de)},M={setBlocks:m=>ae.set(m),setMultiplier:m=>ue.set(m),setBps:m=>de.set(m)};function S(m){let $=Ke.fromArbitiaryBlock(m);i.ApplyBlockUpgrade($)&&s(0,f=i.GetNextBlockUpgrade()?Ke.toArbitiaryBlock(i.GetNextBlockUpgradeSure()):void 0),s(0,f)}async function j(){var m,$;n.set(!0),s(7,p=location.hash==="#enable-debug"),window.addEventListener("hashchange",re=>{location.hash==="#enable-debug"?s(7,p=confirm("Enable debug mode?")):s(7,p=!1)}),fe("ctrl+shift+f1",function(re,se){re.preventDefault(),s(8,k=!k)}),s(5,i=new Ke(l,a,r,U,M)),i.ForceApplyBlockUpgrade(ce[0]),s(0,f=Ke.toArbitiaryBlock(i.GetNextBlockUpgradeSure())),(m=document.getElementById("block"))==null||m.addEventListener("mouseenter",()=>document.body.setAttribute("noselect","")),($=document.getElementById("block"))==null||$.addEventListener("mouseleave",()=>document.body.removeAttribute("noselect")),window.addEventListener("beforeunload",re=>{n.set(!1)})}const ie=()=>s(8,k=!1);function ee(m){he[m?"unshift":"push"](()=>{r=m,s(2,r)})}function J(m){he[m?"unshift":"push"](()=>{l=m,s(1,l)})}function x(m){he[m?"unshift":"push"](()=>{a=m,s(3,a)})}const W=()=>ae.update(m=>m+Y(ue));function te(m){y=m,s(6,y)}function Z(m){f=m,s(0,f)}return t.$$.update=()=>{t.$$.dirty&1&&console.log("Next block up",f)},[f,l,r,a,c,i,y,p,k,h,B,E,S,ie,ee,J,x,W,te,Z]}class us extends Be{constructor(e){super(),Ie(this,e,ns,as,Ue,{})}}export{us as default};
