import{S as _e,i as ke,s as ye,k as v,a as G,l as b,m as w,h as g,c as O,n as o,H,p as he,b as S,F as u,A as ce,q as P,r as F,I as Fe,f as X,g as Ie,t as le,d as Ue,u as ue,J as de,K as ze,v as Me,w as Ke,x as Le,L as $e,y as Ve,e as De,M as dt}from"../../chunks/index-6e428758.js";import{U as M,b as oe,f as gt,B as ge}from"../../chunks/blockUtil-fd2be3a7.js";import{w as pt}from"../../chunks/index-6bddbdc2.js";const mt={key:"en-us",language:"English",strings:{"splash-header":"Did you know?"},upgrades:{dirt:{title:"Dirt",description:""},grass:{title:"Grass",description:""},log:{title:"Log",description:""}},splashes:["Click the block!","Hi!"]},ht={key:"pl-pl",language:"Polski",strings:{"splash-header":"Czy wiesz \u017Ce?"},upgrades:{dirt:{title:"Ziemia",description:""},grass:{title:"Trawa",description:""},log:{title:"K\u0142oda",description:""}},splashes:["Klikaj w blok!","Witaj!"]};Array.prototype.pick=function(){return this[Math.floor(Math.random()*this.length)]};const Te="en-us";let vt=Te;const bt=[ht,mt];function _t(s){let e=He().upgrades[s];return e||(e=at().upgrades[s]),e}function kt(){return He().splashes.pick()}function yt(s,e){let t=He().strings[s];return t||(t=at().strings[s]),t!=null?t:e}function He(){var s;return(s=Ne(vt))!=null?s:Ne(Te)}function at(){return Ne(Te)}function Ne(s){return bt.find(e=>e.key===s)}class Et extends Error{constructor(e,t){super(e,t),this.name="IllegalStateError"}}class we{constructor(e,t,l,r,n){this.blockUpgradeIndex=0,this.left=e,this.top=t,this.right=l,this.getters=r,this.setters=n}static toArbitiaryBlock(e){var r;let t=(r=_t(e.namespace))!=null?r:{title:void 0,description:void 0},l=`${M}/img/placeholder.png`;switch(e.textureMode){case"all":l=`${M}/img/blocks/${e.namespace}/all.${e.imageExtension}`;break;case"bottomtop":l=`${M}/img/blocks/${e.namespace}/bottom.${e.imageExtension}`;break;case"sided":l=`${M}/img/blocks/${e.namespace}/left.${e.imageExtension}`;break}return{description:t.description,title:t.title,namespace:e.namespace,icon:l,price:e.price,upgradeValues:e.upgradeValues}}static fromArbitiaryBlock(e){return oe.find(t=>t.namespace===e.namespace)}GetBlockUpgradeIndex(){return this.blockUpgradeIndex}GetBlockUpgrade(){return oe[this.GetBlockUpgradeIndex()]}GetNextBlockUpgrade(){return oe[this.GetBlockUpgradeIndex()+1]}GetNextBlockUpgradeSure(){return this.GetNextBlockUpgrade()}ApplyBlockUpgrade(e){return e&&this.getters.getBlocks()>=e.price&&!e.isDisabled?(this.ForceApplyBlockUpgrade(e),!0):!1}ForceApplyBlockUpgrade(e){switch(this.setters.setBlocks(this.getters.getBlocks()-e.price),this.setters.setBps(this.getters.getBps()+e.upgradeValues.bps),this.setters.setMultiplier(this.getters.getMultiplier()+e.upgradeValues.multiplier),e.textureMode){case"all":this.left.src=`${M}/img/blocks/${e.namespace}/all.jpg`,this.top.src=`${M}/img/blocks/${e.namespace}/all.jpg`,this.right.src=`${M}/img/blocks/${e.namespace}/all.jpg`,this.setFavicon(`${M}/img/blocks/${e.namespace}/all.jpg`);break;case"bottomtop":this.left.src=`${M}/img/blocks/${e.namespace}/bottom.jpg`,this.top.src=`${M}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${M}/img/blocks/${e.namespace}/bottom.jpg`,this.setFavicon(`${M}/img/blocks/${e.namespace}/bottom.jpg`);break;case"sided":this.left.src=`${M}/img/blocks/${e.namespace}/left.jpg`,this.top.src=`${M}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${M}/img/blocks/${e.namespace}/right.jpg`,this.setFavicon(`${M}/img/blocks/${e.namespace}/left.jpg`);break}if(!gt(e.namespace))throw new Et(`Upgrade with namespace "${e.namespace} is not registered`);this.blockUpgradeIndex=oe.findIndex(t=>t.namespace===e.namespace)}setFavicon(e){var t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href=e}}function wt(s){let e,t,l,r,n,a,c,i,f,d,k,p,m;return{c(){e=v("div"),t=v("div"),l=v("div"),r=v("img"),a=G(),c=v("div"),i=v("img"),d=G(),k=v("div"),p=v("img"),this.h()},l(h){e=b(h,"DIV",{style:!0});var B=w(e);t=b(B,"DIV",{class:!0,style:!0});var E=w(t);l=b(E,"DIV",{class:!0});var D=w(l);r=b(D,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),D.forEach(g),a=O(E),c=b(E,"DIV",{class:!0});var K=w(c);i=b(K,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),K.forEach(g),d=O(E),k=b(E,"DIV",{class:!0});var C=w(k);p=b(C,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),C.forEach(g),E.forEach(g),B.forEach(g),this.h()},h(){o(r,"alt",""),o(r,"draggable","false"),H(r.src,n=s[2])||o(r,"src",n),o(r,"class","svelte-18k05hi"),o(l,"class","right svelte-18k05hi"),o(i,"alt",""),o(i,"draggable","false"),H(i.src,f=s[1])||o(i,"src",f),o(i,"class","svelte-18k05hi"),o(c,"class","left svelte-18k05hi"),o(p,"alt",""),o(p,"draggable","false"),H(p.src,m=s[3])||o(p,"src",m),o(p,"class","svelte-18k05hi"),o(k,"class","top svelte-18k05hi"),o(t,"class","block-render svelte-18k05hi"),he(t,"width","100%"),he(t,"height","100%"),o(e,"style",s[0])},m(h,B){S(h,e,B),u(e,t),u(t,l),u(l,r),u(t,a),u(t,c),u(c,i),u(t,d),u(t,k),u(k,p)},p(h,[B]){B&4&&!H(r.src,n=h[2])&&o(r,"src",n),B&2&&!H(i.src,f=h[1])&&o(i,"src",f),B&8&&!H(p.src,m=h[3])&&o(p,"src",m),B&1&&o(e,"style",h[0])},i:ce,o:ce,d(h){h&&g(e)}}}function Bt(s,e,t){let{namespace:l="_null"}=e,{style:r=""}=e,n=oe.find(d=>d.namespace===(l!=null?l:"_null")),a="",c="",i="";a=ge.GetBlockTexture(n,"left"),c=ge.GetBlockTexture(n,"right"),i=ge.GetBlockTexture(n,"top");function f(){n=oe.find(d=>d.namespace===(l!=null?l:"_null")),t(1,a=ge.GetBlockTexture(n,"left")),t(2,c=ge.GetBlockTexture(n,"right")),t(3,i=ge.GetBlockTexture(n,"top"))}return s.$$set=d=>{"namespace"in d&&t(4,l=d.namespace),"style"in d&&t(0,r=d.style)},s.$$.update=()=>{s.$$.dirty&16&&f()},[r,a,c,i,l]}class It extends _e{constructor(e){super(),ke(this,e,Bt,wt,ye,{namespace:4,style:0})}}function We(s){let e,t,l;function r(a){s[6](a)}let n={style:"position: relative; transform: scale(.7) translate(30%, -100%); top: 35%"};return s[4]!==void 0&&(n.namespace=s[4]),e=new It({props:n}),de.push(()=>ze(e,"namespace",r)),{c(){Me(e.$$.fragment)},l(a){Ke(e.$$.fragment,a)},m(a,c){Le(e,a,c),l=!0},p(a,c){const i={};!t&&c&16&&(t=!0,i.namespace=a[4],$e(()=>t=!1)),e.$set(i)},i(a){l||(X(e.$$.fragment,a),l=!0)},o(a){le(e.$$.fragment,a),l=!1},d(a){Ve(e,a)}}}function Ze(s){let e;function t(n,a){return n[0].namespace!=="_null"?Dt:Ut}let l=t(s),r=l(s);return{c(){r.c(),e=De()},l(n){r.l(n),e=De()},m(n,a){r.m(n,a),S(n,e,a)},p(n,a){l===(l=t(n))&&r?r.p(n,a):(r.d(1),r=l(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&g(e)}}}function Ut(s){let e,t,l,r,n;return{c(){e=v("h1"),t=P(s[2]),l=G(),r=v("div"),n=P("You have reached max level."),this.h()},l(a){e=b(a,"H1",{class:!0});var c=w(e);t=F(c,s[2]),c.forEach(g),l=O(a),r=b(a,"DIV",{});var i=w(r);n=F(i,"You have reached max level."),i.forEach(g),this.h()},h(){o(e,"class","svelte-qmnu4o")},m(a,c){S(a,e,c),u(e,t),S(a,l,c),S(a,r,c),u(r,n)},p(a,c){c&4&&ue(t,a[2])},d(a){a&&g(e),a&&g(l),a&&g(r)}}}function Dt(s){let e,t,l,r,n,a=s[0].title+"",c;return{c(){e=v("h1"),t=P(s[2]),l=G(),r=v("div"),n=P("Upgrade to "),c=P(a),this.h()},l(i){e=b(i,"H1",{class:!0});var f=w(e);t=F(f,s[2]),f.forEach(g),l=O(i),r=b(i,"DIV",{});var d=w(r);n=F(d,"Upgrade to "),c=F(d,a),d.forEach(g),this.h()},h(){o(e,"class","svelte-qmnu4o")},m(i,f){S(i,e,f),u(e,t),S(i,l,f),S(i,r,f),u(r,n),u(r,c)},p(i,f){f&4&&ue(t,i[2]),f&1&&a!==(a=i[0].title+"")&&ue(c,a)},d(i){i&&g(e),i&&g(l),i&&g(r)}}}function Mt(s){var B;let e,t,l,r,n,a,c=((B=s[0])==null?void 0:B.price)+"",i,f,d,k,p,m=s[0]&&We(s),h=s[0]&&Ze(s);return{c(){e=v("div"),t=v("div"),m&&m.c(),l=G(),r=v("div"),h&&h.c(),n=G(),a=v("div"),i=P(c),f=P(" blocks"),this.h()},l(E){e=b(E,"DIV",{class:!0});var D=w(e);t=b(D,"DIV",{class:!0});var K=w(t);m&&m.l(K),K.forEach(g),l=O(D),r=b(D,"DIV",{class:!0});var C=w(r);h&&h.l(C),C.forEach(g),n=O(D),a=b(D,"DIV",{class:!0});var j=w(a);i=F(j,c),f=F(j," blocks"),j.forEach(g),D.forEach(g),this.h()},h(){o(t,"class","left-side svelte-qmnu4o"),o(r,"class","right-side"),o(a,"class","bottom-right svelte-qmnu4o"),o(e,"class","upgrade svelte-qmnu4o")},m(E,D){S(E,e,D),u(e,t),m&&m.m(t,null),u(e,l),u(e,r),h&&h.m(r,null),u(e,n),u(e,a),u(a,i),u(a,f),s[7](e),d=!0,k||(p=Fe(e,"click",s[8]),k=!0)},p(E,[D]){var K;E[0]?m?(m.p(E,D),D&1&&X(m,1)):(m=We(E),m.c(),X(m,1),m.m(t,null)):m&&(Ie(),le(m,1,1,()=>{m=null}),Ue()),E[0]?h?h.p(E,D):(h=Ze(E),h.c(),h.m(r,null)):h&&(h.d(1),h=null),(!d||D&1)&&c!==(c=((K=E[0])==null?void 0:K.price)+"")&&ue(i,c)},i(E){d||(X(m),d=!0)},o(E){le(m),d=!1},d(E){E&&g(e),m&&m.d(),h&&h.d(),s[7](null),k=!1,p()}}}function Kt(s,e,t){let{upgrade:l}=e,{onUpgrade:r}=e,{title:n=l?l.title:""}=e,{isExpesnive:a=!1}=e,c="",i;function f(p){c=p,t(4,c),t(0,l)}function d(p){de[p?"unshift":"push"](()=>{i=p,t(3,i)})}const k=()=>l?r(l):null;return s.$$set=p=>{"upgrade"in p&&t(0,l=p.upgrade),"onUpgrade"in p&&t(1,r=p.onUpgrade),"title"in p&&t(2,n=p.title),"isExpesnive"in p&&t(5,a=p.isExpesnive)},s.$$.update=()=>{s.$$.dirty&41&&i&&(a||!l?i.setAttribute("expensive",""):i.removeAttribute("expensive")),s.$$.dirty&1&&l&&t(4,c=l.namespace)},[l,r,n,i,c,a,f,d,k]}class Lt extends _e{constructor(e){super(),ke(this,e,Kt,Mt,ye,{upgrade:0,onUpgrade:1,title:2,isExpesnive:5})}}class Vt{constructor(e,t){this.onFinishLoading=e,this.additionalTasks=t!=null?t:[]}async startLoading(){await new Promise(e=>{var t=setInterval(()=>{try{window!=null&&(clearInterval(t),e(null))}catch(l){let r=l;r.message.includes(" is not defined")||console.error(r)}},5)}),await new Promise(e=>{var t=setInterval(()=>{try{document!=null&&(clearInterval(t),e(null))}catch(l){let r=l;r.message.includes(" is not defined")||console.error(r)}},5)}),await this.sleep(2e3);for(let e=0;e<this.additionalTasks.length;e++){let t=this.additionalTasks[e];await t()}this.onFinishLoading()}async sleep(e){await new Promise(t=>setTimeout(()=>t(null),e))}}function jt(s){let e,t,l,r,n,a,c,i,f,d,k,p,m,h,B,E,D,K,C,j,re,te,Y,R,Z,se,Q,y,T,x,J,U,A=yt("splash-header","header")+"",$,V,_=kt()+"",I;return{c(){e=v("div"),t=v("div"),r=G(),n=v("h1"),a=P("Block Clicker"),c=G(),i=v("div"),f=v("div"),d=v("div"),k=v("div"),p=v("img"),h=G(),B=v("div"),E=v("img"),K=G(),C=v("div"),j=v("img"),te=G(),Y=v("div"),R=v("img"),se=G(),Q=v("div"),y=v("img"),x=G(),J=v("div"),U=v("h1"),$=P(A),V=G(),I=P(_),this.h()},l(W){e=b(W,"DIV",{class:!0});var N=w(e);t=b(N,"DIV",{class:!0,src:!0,style:!0});var pe=w(t);pe.forEach(g),r=O(N),n=b(N,"H1",{class:!0});var ae=w(n);a=F(ae,"Block Clicker"),ae.forEach(g),c=O(N),i=b(N,"DIV",{class:!0,style:!0});var fe=w(i);f=b(fe,"DIV",{class:!0});var me=w(f);d=b(me,"DIV",{class:!0});var ee=w(d);k=b(ee,"DIV",{class:!0});var qe=w(k);p=b(qe,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),qe.forEach(g),h=O(ee),B=b(ee,"DIV",{class:!0});var Re=w(B);E=b(Re,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Re.forEach(g),K=O(ee),C=b(ee,"DIV",{class:!0});var xe=w(C);j=b(xe,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),xe.forEach(g),te=O(ee),Y=b(ee,"DIV",{class:!0});var Xe=w(Y);R=b(Xe,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Xe.forEach(g),se=O(ee),Q=b(ee,"DIV",{class:!0});var Ye=w(Q);y=b(Ye,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Ye.forEach(g),ee.forEach(g),me.forEach(g),x=O(fe),J=b(fe,"DIV",{class:!0});var Ee=w(J);U=b(Ee,"H1",{class:!0});var Je=w(U);$=F(Je,A),Je.forEach(g),V=O(Ee),I=F(Ee,_),Ee.forEach(g),fe.forEach(g),N.forEach(g),this.h()},h(){o(t,"class","bg-img svelte-1g39z9o"),H(t.src,l=s[5]())||o(t,"src",l),he(t,"background-image","url("+s[5]()+")"),o(n,"class","header svelte-1g39z9o"),o(p,"alt",""),o(p,"draggable","false"),H(p.src,m=s[2])||o(p,"src",m),o(p,"class","svelte-1g39z9o"),o(k,"class","backright svelte-1g39z9o"),o(E,"alt",""),o(E,"draggable","false"),H(E.src,D=s[3])||o(E,"src",D),o(E,"class","svelte-1g39z9o"),o(B,"class","backleft svelte-1g39z9o"),o(j,"alt",""),o(j,"draggable","false"),H(j.src,re=s[1])||o(j,"src",re),o(j,"class","svelte-1g39z9o"),o(C,"class","right svelte-1g39z9o"),o(R,"alt",""),o(R,"draggable","false"),H(R.src,Z=s[0])||o(R,"src",Z),o(R,"class","svelte-1g39z9o"),o(Y,"class","left svelte-1g39z9o"),o(y,"alt",""),o(y,"draggable","false"),H(y.src,T=s[4])||o(y,"src",T),o(y,"class","svelte-1g39z9o"),o(Q,"class","top svelte-1g39z9o"),o(d,"class","block-cube svelte-1g39z9o"),o(f,"class","cube-wrapper svelte-1g39z9o"),o(U,"class","svelte-1g39z9o"),o(J,"class","splash svelte-1g39z9o"),o(i,"class","bg svelte-1g39z9o"),he(i,"--background-image","url("+s[5]()+")"),o(e,"class","bg svelte-1g39z9o")},m(W,N){S(W,e,N),u(e,t),u(e,r),u(e,n),u(n,a),u(e,c),u(e,i),u(i,f),u(f,d),u(d,k),u(k,p),u(d,h),u(d,B),u(B,E),u(d,K),u(d,C),u(C,j),u(d,te),u(d,Y),u(Y,R),u(d,se),u(d,Q),u(Q,y),u(i,x),u(i,J),u(J,U),u(U,$),u(J,V),u(J,I)},p(W,[N]){N&4&&!H(p.src,m=W[2])&&o(p,"src",m),N&8&&!H(E.src,D=W[3])&&o(E,"src",D),N&2&&!H(j.src,re=W[1])&&o(j,"src",re),N&1&&!H(R.src,Z=W[0])&&o(R,"src",Z),N&16&&!H(y.src,T=W[4])&&o(y,"src",T)},i:ce,o:ce,d(W){W&&g(e)}}}function At(s,e,t){let l,r,n,a,c,i=oe.filter(d=>d.textureMode!=="sided"&&!d.isDisabled).pick();function f(){return i.textureMode==="all"?`${M}/img/blocks/${i.namespace}/all.${i.imageExtension}`:`${M}/img/blocks/${i.namespace}/bottom.${i.imageExtension}`}switch(i.textureMode){case"all":l=`${M}/img/blocks/${i.namespace}/all.jpg`,c=`${M}/img/blocks/${i.namespace}/all.jpg`,r=`${M}/img/blocks/${i.namespace}/all.jpg`,n=`${M}/img/blocks/${i.namespace}/all.jpg`,a=`${M}/img/blocks/${i.namespace}/all.jpg`;break;case"bottomtop":l=`${M}/img/blocks/${i.namespace}/bottom.jpg`,c=`${M}/img/blocks/${i.namespace}/top.jpg`,r=`${M}/img/blocks/${i.namespace}/bottom.jpg`,n=`${M}/img/blocks/${i.namespace}/bottom.jpg`,a=`${M}/img/blocks/${i.namespace}/bottom.jpg`;break}return[l,r,n,a,c,f]}class Gt extends _e{constructor(e){super(),ke(this,e,At,jt,ye,{})}}function Ot(s){let e,t,l,r,n,a;return{c(){e=v("div"),t=v("div"),l=v("h1"),r=P("Block Clicker debugmenu"),this.h()},l(c){e=b(c,"DIV",{id:!0,class:!0});var i=w(e);t=b(i,"DIV",{class:!0});var f=w(t);l=b(f,"H1",{style:!0});var d=w(l);r=F(d,"Block Clicker debugmenu"),d.forEach(g),f.forEach(g),i.forEach(g),this.h()},h(){he(l,"text-align","center"),o(t,"class","inner-parent svelte-141t99x"),o(e,"id","debug-menu"),o(e,"class","svelte-141t99x")},m(c,i){S(c,e,i),u(e,t),u(t,l),u(l,r),n||(a=Fe(e,"click",s[1]),n=!0)},p:ce,i:ce,o:ce,d(c){c&&g(e),n=!1,a()}}}function Ct(s){const e=dt();function t(r){r.target===this&&(console.log(typeof this),e("dimissed"))}return[t,function(r){t.bind(this)(r)}]}class St extends _e{constructor(e){super(),ke(this,e,Ct,Ot,ye,{})}}var Ae=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function Ge(s,e,t,l){s.addEventListener?s.addEventListener(e,t,l):s.attachEvent&&s.attachEvent("on".concat(e),function(){t(window.event)})}function nt(s,e){for(var t=e.slice(0,e.length-1),l=0;l<t.length;l++)t[l]=s[t[l].toLowerCase()];return t}function ot(s){typeof s!="string"&&(s=""),s=s.replace(/\s/g,"");for(var e=s.split(","),t=e.lastIndexOf("");t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function zt(s,e){for(var t=s.length>=e.length?s:e,l=s.length>=e.length?e:s,r=!0,n=0;n<t.length;n++)l.indexOf(t[n])===-1&&(r=!1);return r}var ve={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":Ae?173:189,"=":Ae?61:187,";":Ae?59:186,"'":222,"[":219,"]":221,"\\":220},ie={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},Pe={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},q={16:!1,18:!1,17:!1,91:!1},z={};for(var Be=1;Be<20;Be++)ve["f".concat(Be)]=111+Be;var L=[],Qe=!1,ct="all",ft=[],je=function(e){return ve[e.toLowerCase()]||ie[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},$t=function(e){return Object.keys(ve).find(function(t){return ve[t]===e})},Nt=function(e){return Object.keys(ie).find(function(t){return ie[t]===e})};function ut(s){ct=s||"all"}function be(){return ct||"all"}function Pt(){return L.slice(0)}function Ft(){return L.map(function(s){return $t(s)||Nt(s)||String.fromCharCode(s)})}function Tt(s){var e=s.target||s.srcElement,t=e.tagName,l=!0;return(e.isContentEditable||(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(l=!1),l}function Ht(s){return typeof s=="string"&&(s=je(s)),L.indexOf(s)!==-1}function qt(s,e){var t,l;s||(s=be());for(var r in z)if(Object.prototype.hasOwnProperty.call(z,r))for(t=z[r],l=0;l<t.length;)t[l].scope===s?t.splice(l,1):l++;be()===s&&ut(e||"all")}function Rt(s){var e=s.keyCode||s.which||s.charCode,t=L.indexOf(e);if(t>=0&&L.splice(t,1),s.key&&s.key.toLowerCase()==="meta"&&L.splice(0,L.length),(e===93||e===224)&&(e=91),e in q){q[e]=!1;for(var l in ie)ie[l]===e&&(ne[l]=!1)}}function xt(s){if(typeof s>"u")Object.keys(z).forEach(function(a){return delete z[a]});else if(Array.isArray(s))s.forEach(function(a){a.key&&Oe(a)});else if(typeof s=="object")s.key&&Oe(s);else if(typeof s=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),l=1;l<e;l++)t[l-1]=arguments[l];var r=t[0],n=t[1];typeof r=="function"&&(n=r,r=""),Oe({key:s,scope:r,method:n,splitKey:"+"})}}var Oe=function(e){var t=e.key,l=e.scope,r=e.method,n=e.splitKey,a=n===void 0?"+":n,c=ot(t);c.forEach(function(i){var f=i.split(a),d=f.length,k=f[d-1],p=k==="*"?"*":je(k);if(!!z[p]){l||(l=be());var m=d>1?nt(ie,f):[];z[p]=z[p].filter(function(h){var B=r?h.method===r:!0;return!(B&&h.scope===l&&zt(h.mods,m))})}})};function et(s,e,t,l){if(e.element===l){var r;if(e.scope===t||e.scope==="all"){r=e.mods.length>0;for(var n in q)Object.prototype.hasOwnProperty.call(q,n)&&(!q[n]&&e.mods.indexOf(+n)>-1||q[n]&&e.mods.indexOf(+n)===-1)&&(r=!1);(e.mods.length===0&&!q[16]&&!q[18]&&!q[17]&&!q[91]||r||e.shortcut==="*")&&e.method(s,e)===!1&&(s.preventDefault?s.preventDefault():s.returnValue=!1,s.stopPropagation&&s.stopPropagation(),s.cancelBubble&&(s.cancelBubble=!0))}}}function tt(s,e){var t=z["*"],l=s.keyCode||s.which||s.charCode;if(!!ne.filter.call(this,s)){if((l===93||l===224)&&(l=91),L.indexOf(l)===-1&&l!==229&&L.push(l),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(h){var B=Pe[h];s[h]&&L.indexOf(B)===-1?L.push(B):!s[h]&&L.indexOf(B)>-1?L.splice(L.indexOf(B),1):h==="metaKey"&&s[h]&&L.length===3&&(s.ctrlKey||s.shiftKey||s.altKey||(L=L.slice(L.indexOf(B))))}),l in q){q[l]=!0;for(var r in ie)ie[r]===l&&(ne[r]=!0);if(!t)return}for(var n in q)Object.prototype.hasOwnProperty.call(q,n)&&(q[n]=s[Pe[n]]);s.getModifierState&&!(s.altKey&&!s.ctrlKey)&&s.getModifierState("AltGraph")&&(L.indexOf(17)===-1&&L.push(17),L.indexOf(18)===-1&&L.push(18),q[17]=!0,q[18]=!0);var a=be();if(t)for(var c=0;c<t.length;c++)t[c].scope===a&&(s.type==="keydown"&&t[c].keydown||s.type==="keyup"&&t[c].keyup)&&et(s,t[c],a,e);if(l in z){for(var i=0;i<z[l].length;i++)if((s.type==="keydown"&&z[l][i].keydown||s.type==="keyup"&&z[l][i].keyup)&&z[l][i].key){for(var f=z[l][i],d=f.splitKey,k=f.key.split(d),p=[],m=0;m<k.length;m++)p.push(je(k[m]));p.sort().join("")===L.sort().join("")&&et(s,f,a,e)}}}}function Xt(s){return ft.indexOf(s)>-1}function ne(s,e,t){L=[];var l=ot(s),r=[],n="all",a=document,c=0,i=!1,f=!0,d="+",k=!1;for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(n=e.scope),e.element&&(a=e.element),e.keyup&&(i=e.keyup),e.keydown!==void 0&&(f=e.keydown),e.capture!==void 0&&(k=e.capture),typeof e.splitKey=="string"&&(d=e.splitKey)),typeof e=="string"&&(n=e);c<l.length;c++)s=l[c].split(d),r=[],s.length>1&&(r=nt(ie,s)),s=s[s.length-1],s=s==="*"?"*":je(s),s in z||(z[s]=[]),z[s].push({keyup:i,keydown:f,scope:n,mods:r,shortcut:l[c],method:t,key:l[c],splitKey:d,element:a});typeof a<"u"&&!Xt(a)&&window&&(ft.push(a),Ge(a,"keydown",function(p){tt(p,a)},k),Qe||(Qe=!0,Ge(window,"focus",function(){L=[]},k)),Ge(a,"keyup",function(p){tt(p,a),Rt(p)},k))}function Yt(s){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(z).forEach(function(t){var l=z[t].find(function(r){return r.scope===e&&r.shortcut===s});l&&l.method&&l.method()})}var Ce={getPressedKeyString:Ft,setScope:ut,getScope:be,deleteScope:qt,getPressedKeyCodes:Pt,isPressed:Ht,filter:Tt,trigger:Yt,unbind:xt,keyMap:ve,modifier:ie,modifierMap:Pe};for(var Se in Ce)Object.prototype.hasOwnProperty.call(Ce,Se)&&(ne[Se]=Ce[Se]);if(typeof window<"u"){var Jt=window.hotkeys;ne.noConflict=function(s){return s&&window.hotkeys===ne&&(window.hotkeys=Jt),ne},window.hotkeys=ne}function st(s){let e,t;return e=new Gt({}),{c(){Me(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,r){Le(e,l,r),t=!0},i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function lt(s){let e,t;return e=new St({}),e.$on("dimissed",s[13]),{c(){Me(e.$$.fragment)},l(l){Ke(e.$$.fragment,l)},m(l,r){Le(e,l,r),t=!0},p:ce,i(l){t||(X(e.$$.fragment,l),t=!0)},o(l){le(e.$$.fragment,l),t=!1},d(l){Ve(e,l)}}}function rt(s){let e,t;return{c(){e=v("sub"),t=P("DEBUG ENABLED")},l(l){e=b(l,"SUB",{});var r=w(e);t=F(r,"DEBUG ENABLED"),r.forEach(g)},m(l,r){S(l,e,r),u(e,t)},d(l){l&&g(e)}}}function it(s){let e,t,l,r,n;function a(f){s[18](f)}function c(f){s[19](f)}let i={onUpgrade:s[12],title:"Block upgrade"};return s[9]!==void 0&&(i.isExpesnive=s[9]),s[1]!==void 0&&(i.upgrade=s[1]),t=new Lt({props:i}),de.push(()=>ze(t,"isExpesnive",a)),de.push(()=>ze(t,"upgrade",c)),{c(){e=v("div"),Me(t.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0});var d=w(e);Ke(t.$$.fragment,d),d.forEach(g),this.h()},h(){o(e,"class","upgrades")},m(f,d){S(f,e,d),Le(t,e,null),n=!0},p(f,d){const k={};!l&&d&512&&(l=!0,k.isExpesnive=f[9],$e(()=>l=!1)),!r&&d&2&&(r=!0,k.upgrade=f[1],$e(()=>r=!1)),t.$set(k)},i(f){n||(X(t.$$.fragment,f),n=!0)},o(f){le(t.$$.fragment,f),n=!1},d(f){f&&g(e),Ve(t)}}}function Wt(s){let e,t,l,r,n=Math.trunc(s[0])+"",a,c,i,f,d,k,p,m,h,B,E,D,K,C,j,re,te,Y,R,Z,se,Q,y,T,x,J,U=!s[7]&&st(),A=s[10]&&s[11]&&lt(s),$=s[10]&&rt(),V=s[8]&&it(s);return{c(){U&&U.c(),e=G(),A&&A.c(),t=G(),l=v("div"),r=v("h1"),a=P(n),c=P(" blocks"),i=G(),f=v("h3"),d=P("x"),k=P(s[2]),p=G(),m=v("h3"),h=P(s[3]),B=P(" bps"),E=G(),$&&$.c(),D=G(),K=v("div"),C=v("div"),j=v("img"),re=G(),te=v("div"),Y=v("img"),R=G(),Z=v("div"),se=v("img"),Q=G(),V&&V.c(),y=De(),this.h()},l(_){U&&U.l(_),e=O(_),A&&A.l(_),t=O(_),l=b(_,"DIV",{class:!0});var I=w(l);r=b(I,"H1",{});var W=w(r);a=F(W,n),c=F(W," blocks"),W.forEach(g),i=O(I),f=b(I,"H3",{});var N=w(f);d=F(N,"x"),k=F(N,s[2]),N.forEach(g),p=O(I),m=b(I,"H3",{});var pe=w(m);h=F(pe,s[3]),B=F(pe," bps"),pe.forEach(g),E=O(I),$&&$.l(I),I.forEach(g),D=O(_),K=b(_,"DIV",{id:!0});var ae=w(K);C=b(ae,"DIV",{class:!0});var fe=w(C);j=b(fe,"IMG",{alt:!0,draggable:!0}),fe.forEach(g),re=O(ae),te=b(ae,"DIV",{class:!0});var me=w(te);Y=b(me,"IMG",{alt:!0,draggable:!0}),me.forEach(g),R=O(ae),Z=b(ae,"DIV",{class:!0});var ee=w(Z);se=b(ee,"IMG",{alt:!0,draggable:!0}),ee.forEach(g),ae.forEach(g),Q=O(_),V&&V.l(_),y=De(),this.h()},h(){o(l,"class","blocks-header"),o(j,"alt",""),o(j,"draggable","false"),o(C,"class","right"),o(Y,"alt",""),o(Y,"draggable","false"),o(te,"class","left"),o(se,"alt",""),o(se,"draggable","false"),o(Z,"class","top"),o(K,"id","block")},m(_,I){U&&U.m(_,I),S(_,e,I),A&&A.m(_,I),S(_,t,I),S(_,l,I),u(l,r),u(r,a),u(r,c),u(l,i),u(l,f),u(f,d),u(f,k),u(l,p),u(l,m),u(m,h),u(m,B),u(l,E),$&&$.m(l,null),S(_,D,I),S(_,K,I),u(K,C),u(C,j),s[14](j),u(K,re),u(K,te),u(te,Y),s[15](Y),u(K,R),u(K,Z),u(Z,se),s[16](se),S(_,Q,I),V&&V.m(_,I),S(_,y,I),T=!0,x||(J=Fe(K,"click",s[17]),x=!0)},p(_,[I]){_[7]?U&&(Ie(),le(U,1,1,()=>{U=null}),Ue()):U?I&128&&X(U,1):(U=st(),U.c(),X(U,1),U.m(e.parentNode,e)),_[10]&&_[11]?A?(A.p(_,I),I&3072&&X(A,1)):(A=lt(_),A.c(),X(A,1),A.m(t.parentNode,t)):A&&(Ie(),le(A,1,1,()=>{A=null}),Ue()),(!T||I&1)&&n!==(n=Math.trunc(_[0])+"")&&ue(a,n),(!T||I&4)&&ue(k,_[2]),(!T||I&8)&&ue(h,_[3]),_[10]?$||($=rt(),$.c(),$.m(l,null)):$&&($.d(1),$=null),_[8]?V?(V.p(_,I),I&256&&X(V,1)):(V=it(_),V.c(),X(V,1),V.m(y.parentNode,y)):V&&(Ie(),le(V,1,1,()=>{V=null}),Ue())},i(_){T||(X(U),X(A),X(V),T=!0)},o(_){le(U),le(A),le(V),T=!1},d(_){U&&U.d(_),_&&g(e),A&&A.d(_),_&&g(t),_&&g(l),$&&$.d(),_&&g(D),_&&g(K),s[14](null),s[15](null),s[16](null),_&&g(Q),V&&V.d(_),_&&g(y),x=!1,J()}}}function Zt(s,e,t){let l=0,r=1,n=0,a,c,i,f=pt(!1),d=!1,k,p=new Vt(j),m,h=!0,B=!1,E=!1;setInterval(()=>{let y=n*.001;t(0,l+=y)},1),f.subscribe(y=>t(7,d=y)),p.startLoading();const D={getBlocks:()=>l,getMultiplier:()=>r,getBps:()=>n},K={setBlocks:y=>t(0,l=y),setMultiplier:y=>t(2,r=y),setBps:y=>t(3,n=y)};function C(y){let T=we.fromArbitiaryBlock(y);k.ApplyBlockUpgrade(T)&&t(1,m=k.GetNextBlockUpgrade()?we.toArbitiaryBlock(k.GetNextBlockUpgradeSure()):void 0),t(1,m)}async function j(){var y,T;f.set(!0),t(10,B=location.hash==="#enable-debug"),window.addEventListener("hashchange",x=>{location.hash==="#enable-debug"?t(10,B=confirm("Enable debug mode?")):t(10,B=!1)}),ne("ctrl+shift+f1",function(x,J){x.preventDefault(),t(11,E=!E)}),t(8,k=new we(a,i,c,D,K)),k.ForceApplyBlockUpgrade(oe[0]),t(1,m=we.toArbitiaryBlock(k.GetNextBlockUpgradeSure())),(y=document.getElementById("block"))==null||y.addEventListener("mouseenter",()=>document.body.setAttribute("noselect","")),(T=document.getElementById("block"))==null||T.addEventListener("mouseleave",()=>document.body.removeAttribute("noselect")),window.addEventListener("beforeunload",x=>{f.set(!1)}),window.addEventListener("keyup",x=>{var J;if(console.log("event",x),x.keyCode===79&&x.ctrlKey&&x.shiftKey){let U=parseFloat((J=prompt("set value"))!=null?J:"");isNaN(U)||t(0,l=U)}})}const re=()=>t(11,E=!1);function te(y){de[y?"unshift":"push"](()=>{c=y,t(5,c)})}function Y(y){de[y?"unshift":"push"](()=>{a=y,t(4,a)})}function R(y){de[y?"unshift":"push"](()=>{i=y,t(6,i)})}const Z=()=>t(0,l+=r);function se(y){h=y,t(9,h),t(0,l),t(1,m)}function Q(y){m=y,t(1,m)}return s.$$.update=()=>{s.$$.dirty&2&&console.log("Next block up",m),s.$$.dirty&3&&(()=>{try{document.title=`${l} blocks - Block Clicker`,m&&t(9,h=m.price>l||m.namespace==="_null")}catch(y){console.error(y)}})()},[l,m,r,n,a,c,i,d,k,h,B,E,C,re,te,Y,R,Z,se,Q]}class ss extends _e{constructor(e){super(),ke(this,e,Zt,Wt,ye,{})}}export{ss as default};
