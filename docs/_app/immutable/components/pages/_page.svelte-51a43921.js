import{H as get_store_value,S as SvelteComponent,i as init,s as safe_not_equal,k as element,a as space,l as claim_element,m as children,h as detach,c as claim_space,n as attr,I as src_url_equal,p as set_style,b as insert_hydration,F as append_hydration,A as noop,J as listen,f as transition_in,g as group_outros,t as transition_out,d as check_outros,K as binding_callbacks,L as bind,v as create_component,w as claim_component,x as mount_component,M as add_flush_callback,y as destroy_component,e as empty,q as text,r as claim_text,u as set_data,B as create_slot,C as update_slot_base,D as get_all_dirty_from_scope,E as get_slot_changes,N as createEventDispatcher,o as onMount,O as destroy_each,P as run_all,Q as null_to_empty}from"../../chunks/index-515b127c.js";import{b as blockUpgrades,U as URL_PREFIX,f as findBlockUpgradeByNamespace,B as BlockUtil}from"../../chunks/blockUtil-f88e665a.js";import{w as writable}from"../../chunks/index-07fce2ce.js";const locale_en_us={key:"en-us",language:"English",strings:{"splash-header":"Did you know?"},upgrades:{dirt:{title:"Dirt",description:""},grass:{title:"Grass",description:""},log:{title:"Log",description:""},stone:{title:"Stone",description:""},cobblestone:{title:"Cobblestone",description:""}},splashes:["Click the block!","Hi!"]},locale_pl_pl={key:"pl-pl",language:"Polski",strings:{"splash-header":"Czy wiesz \u017Ce?"},upgrades:{dirt:{title:"Ziemia",description:""},grass:{title:"Trawa",description:""},log:{title:"K\u0142oda",description:""},stone:{title:"Kamie\u0144",description:""},cobblestone:{title:"Bruk",description:""}},splashes:["Klikaj w blok!","Witaj!"]};Array.prototype.pick=function(){return this[Math.floor(Math.random()*this.length)]};Array.prototype.last=function(){return this[this.length-1]};const DEFAULT_LANGUAGE="en-us";let currentLanguage=DEFAULT_LANGUAGE;const AVALIBLE_LOCALES=[locale_pl_pl,locale_en_us];function getLocalizedUpgrade(l){let e=getCurrentLocale().upgrades[l];return e||(e=getDefaultLocale().upgrades[l]),e}function getRandomSplash(){return getCurrentLocale().splashes.pick()}function getLocalizedString(l,e){let t=getCurrentLocale().strings[l];return t||(t=getDefaultLocale().strings[l]),t!=null?t:e}function getCurrentLocale(){var l;return(l=getLocaleByKey(currentLanguage))!=null?l:getLocaleByKey(DEFAULT_LANGUAGE)}function getDefaultLocale(){return getLocaleByKey(DEFAULT_LANGUAGE)}function getLocaleByKey(l){return AVALIBLE_LOCALES.find(e=>e.key===l)}class IllegalStateError extends Error{constructor(e,t){super(e,t),this.name="IllegalStateError"}}let blocks=writable(0),multiplier=writable(1),bps=writable(0),blockUpgradeIndex=writable(0);const saveEntries=[blocks,multiplier,bps,blockUpgradeIndex],SAVE_SLOT="save";let hasLoadedGame=!1;function prepareAutosave(){saveEntries.forEach(l=>{l.subscribe(saveGame)})}function saveGame(){if(!!hasLoadedGame){try{if(!localStorage)return}catch{return}localStorage.setItem(SAVE_SLOT,JSON.stringify({blocks:get_store_value(blocks),multiplier:get_store_value(multiplier),bps:get_store_value(bps),blockUpgradeIndex:get_store_value(blockUpgradeIndex)}))}}function loadGame(){var e,t,n,r,s,i;let l=JSON.parse((e=localStorage.getItem(SAVE_SLOT))!=null?e:"{}");l&&(blocks.set((t=l.blocks)!=null?t:0),multiplier.set((n=l.multiplier)!=null?n:1),bps.set((r=l.bps)!=null?r:0),blockUpgradeIndex.set((s=l.blockUpgradeIndex)!=null?s:0),UpgradeManager.setBaseBlockUpgradeIndex((i=l.blockUpgradeIndex)!=null?i:0),hasLoadedGame=!0)}function clearSave(){hasLoadedGame=!1,localStorage.removeItem(SAVE_SLOT),location.reload()}let baseBlockUpgradeIndex=0;class UpgradeManager{constructor(e,t,n,r,s){this.left=e,this.top=t,this.right=n,this.getters=r,this.setters=s,blockUpgradeIndex.set(baseBlockUpgradeIndex),this.ForceApplyBlockUpgrade(blockUpgrades[baseBlockUpgradeIndex],!0)}static setBaseBlockUpgradeIndex(e){console.log(e),baseBlockUpgradeIndex=e}static toArbitiaryBlock(e){var r;let t=(r=getLocalizedUpgrade(e.namespace))!=null?r:{title:void 0,description:void 0},n=`${URL_PREFIX}/img/placeholder.png`;switch(e.textureMode){case"all":n=`${URL_PREFIX}/img/blocks/${e.namespace}/all.${e.imageExtension}`;break;case"bottomtop":n=`${URL_PREFIX}/img/blocks/${e.namespace}/bottom.${e.imageExtension}`;break;case"sided":n=`${URL_PREFIX}/img/blocks/${e.namespace}/left.${e.imageExtension}`;break}return{description:t.description,title:t.title,namespace:e.namespace,icon:n,price:e.price,upgradeValues:e.upgradeValues}}static fromArbitiaryBlock(e){return blockUpgrades.find(t=>t.namespace===e.namespace)}GetBlockUpgradeIndex(){return get_store_value(blockUpgradeIndex)}GetBlockUpgrade(){return blockUpgrades[this.GetBlockUpgradeIndex()]}GetNextBlockUpgrade(){return blockUpgrades[this.GetBlockUpgradeIndex()+1]}GetNextBlockUpgradeSure(){return this.GetNextBlockUpgrade()}ApplyBlockUpgrade(e){return e&&this.getters.getBlocks()>=e.price&&!e.isDisabled?(this.ForceApplyBlockUpgrade(e),!0):!1}ForceApplyBlockUpgrade(e,t=!1){switch(t||(this.setters.setBlocks(this.getters.getBlocks()-e.price),this.setters.setBps(this.getters.getBps()+e.upgradeValues.bps),this.setters.setMultiplier(this.getters.getMultiplier()+e.upgradeValues.multiplier)),console.log(e),e.textureMode){case"all":this.left.src=`${URL_PREFIX}/img/blocks/${e.namespace}/all.jpg`,this.top.src=`${URL_PREFIX}/img/blocks/${e.namespace}/all.jpg`,this.right.src=`${URL_PREFIX}/img/blocks/${e.namespace}/all.jpg`,this.setFavicon(`${URL_PREFIX}/img/blocks/${e.namespace}/all.jpg`);break;case"bottomtop":this.left.src=`${URL_PREFIX}/img/blocks/${e.namespace}/bottom.jpg`,this.top.src=`${URL_PREFIX}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${URL_PREFIX}/img/blocks/${e.namespace}/bottom.jpg`,this.setFavicon(`${URL_PREFIX}/img/blocks/${e.namespace}/bottom.jpg`);break;case"sided":this.left.src=`${URL_PREFIX}/img/blocks/${e.namespace}/left.jpg`,this.top.src=`${URL_PREFIX}/img/blocks/${e.namespace}/top.jpg`,this.right.src=`${URL_PREFIX}/img/blocks/${e.namespace}/right.jpg`,this.setFavicon(`${URL_PREFIX}/img/blocks/${e.namespace}/left.jpg`);break}if(!findBlockUpgradeByNamespace(e.namespace))throw new IllegalStateError(`Upgrade with namespace "${e.namespace} is not registered`);blockUpgradeIndex.set(blockUpgrades.findIndex(n=>n.namespace===e.namespace))}setFavicon(e){var t=document.querySelector("link[rel~='icon']");t||(t=document.createElement("link"),t.rel="icon",document.getElementsByTagName("head")[0].appendChild(t)),t.href=e}}const RenderBlock_svelte_svelte_type_style_lang="";function create_fragment$6(l){let e,t,n,r,s,i,d,o,_,c,f,u,p;return{c(){e=element("div"),t=element("div"),n=element("div"),r=element("img"),i=space(),d=element("div"),o=element("img"),c=space(),f=element("div"),u=element("img"),this.h()},l(m){e=claim_element(m,"DIV",{class:!0,style:!0});var h=children(e);t=claim_element(h,"DIV",{class:!0,style:!0});var y=children(t);n=claim_element(y,"DIV",{class:!0});var L=children(n);r=claim_element(L,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),L.forEach(detach),i=claim_space(y),d=claim_element(y,"DIV",{class:!0});var B=children(d);o=claim_element(B,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),B.forEach(detach),c=claim_space(y),f=claim_element(y,"DIV",{class:!0});var E=children(f);u=claim_element(E,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),E.forEach(detach),y.forEach(detach),h.forEach(detach),this.h()},h(){attr(r,"alt",""),attr(r,"draggable","false"),src_url_equal(r.src,s=l[2])||attr(r,"src",s),attr(r,"class","svelte-li7mr"),attr(n,"class","right svelte-li7mr"),attr(o,"alt",""),attr(o,"draggable","false"),src_url_equal(o.src,_=l[1])||attr(o,"src",_),attr(o,"class","svelte-li7mr"),attr(d,"class","left svelte-li7mr"),attr(u,"alt",""),attr(u,"draggable","false"),src_url_equal(u.src,p=l[3])||attr(u,"src",p),attr(u,"class","svelte-li7mr"),attr(f,"class","top svelte-li7mr"),attr(t,"class","block-render svelte-li7mr"),set_style(t,"width","100%"),set_style(t,"height","100%"),attr(e,"class","block-render-wrap"),attr(e,"style",l[0])},m(m,h){insert_hydration(m,e,h),append_hydration(e,t),append_hydration(t,n),append_hydration(n,r),append_hydration(t,i),append_hydration(t,d),append_hydration(d,o),append_hydration(t,c),append_hydration(t,f),append_hydration(f,u)},p(m,[h]){h&4&&!src_url_equal(r.src,s=m[2])&&attr(r,"src",s),h&2&&!src_url_equal(o.src,_=m[1])&&attr(o,"src",_),h&8&&!src_url_equal(u.src,p=m[3])&&attr(u,"src",p),h&1&&attr(e,"style",m[0])},i:noop,o:noop,d(m){m&&detach(e)}}}function instance$6(l,e,t){let{namespace:n="_null"}=e,{style:r=""}=e,s=blockUpgrades.find(c=>c.namespace===(n!=null?n:"_null")),i="",d="",o="";i=BlockUtil.GetBlockTexture(s,"left"),d=BlockUtil.GetBlockTexture(s,"right"),o=BlockUtil.GetBlockTexture(s,"top");function _(){s=blockUpgrades.find(c=>c.namespace===(n!=null?n:"_null")),t(1,i=BlockUtil.GetBlockTexture(s,"left")),t(2,d=BlockUtil.GetBlockTexture(s,"right")),t(3,o=BlockUtil.GetBlockTexture(s,"top"))}return l.$$set=c=>{"namespace"in c&&t(4,n=c.namespace),"style"in c&&t(0,r=c.style)},l.$$.update=()=>{l.$$.dirty&16&&_()},[r,i,d,o,n]}class RenderBlock extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{namespace:4,style:0})}}const upgrade_svelte_svelte_type_style_lang="";function create_if_block_4$1(l){let e,t,n;function r(i){l[6](i)}let s={style:"position: relative; transform: scale(.7) translate(30%, -100%); top: 35%"};return l[4]!==void 0&&(s.namespace=l[4]),e=new RenderBlock({props:s}),binding_callbacks.push(()=>bind(e,"namespace",r)),{c(){create_component(e.$$.fragment)},l(i){claim_component(e.$$.fragment,i)},m(i,d){mount_component(e,i,d),n=!0},p(i,d){const o={};!t&&d&16&&(t=!0,o.namespace=i[4],add_flush_callback(()=>t=!1)),e.$set(o)},i(i){n||(transition_in(e.$$.fragment,i),n=!0)},o(i){transition_out(e.$$.fragment,i),n=!1},d(i){destroy_component(e,i)}}}function create_if_block_2$1(l){let e;function t(s,i){return s[0].namespace!=="_null"?create_if_block_3$1:create_else_block}let n=t(l),r=n(l);return{c(){r.c(),e=empty()},l(s){r.l(s),e=empty()},m(s,i){r.m(s,i),insert_hydration(s,e,i)},p(s,i){n===(n=t(s))&&r?r.p(s,i):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&detach(e)}}}function create_else_block(l){let e,t,n,r,s;return{c(){e=element("h1"),t=text(l[2]),n=space(),r=element("div"),s=text("You have reached max level."),this.h()},l(i){e=claim_element(i,"H1",{class:!0});var d=children(e);t=claim_text(d,l[2]),d.forEach(detach),n=claim_space(i),r=claim_element(i,"DIV",{});var o=children(r);s=claim_text(o,"You have reached max level."),o.forEach(detach),this.h()},h(){attr(e,"class","svelte-1s16een")},m(i,d){insert_hydration(i,e,d),append_hydration(e,t),insert_hydration(i,n,d),insert_hydration(i,r,d),append_hydration(r,s)},p(i,d){d&4&&set_data(t,i[2])},d(i){i&&detach(e),i&&detach(n),i&&detach(r)}}}function create_if_block_3$1(l){let e,t,n,r,s,i=l[0].title+"",d;return{c(){e=element("h1"),t=text(l[2]),n=space(),r=element("div"),s=text("Upgrade to "),d=text(i),this.h()},l(o){e=claim_element(o,"H1",{class:!0});var _=children(e);t=claim_text(_,l[2]),_.forEach(detach),n=claim_space(o),r=claim_element(o,"DIV",{});var c=children(r);s=claim_text(c,"Upgrade to "),d=claim_text(c,i),c.forEach(detach),this.h()},h(){attr(e,"class","svelte-1s16een")},m(o,_){insert_hydration(o,e,_),append_hydration(e,t),insert_hydration(o,n,_),insert_hydration(o,r,_),append_hydration(r,s),append_hydration(r,d)},p(o,_){_&4&&set_data(t,o[2]),_&1&&i!==(i=o[0].title+"")&&set_data(d,i)},d(o){o&&detach(e),o&&detach(n),o&&detach(r)}}}function create_if_block$2(l){let e,t=l[0].namespace!=="_null"&&create_if_block_1$1(l);return{c(){t&&t.c(),e=empty()},l(n){t&&t.l(n),e=empty()},m(n,r){t&&t.m(n,r),insert_hydration(n,e,r)},p(n,r){n[0].namespace!=="_null"?t?t.p(n,r):(t=create_if_block_1$1(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&detach(e)}}}function create_if_block_1$1(l){var r;let e=((r=l[0])==null?void 0:r.price)+"",t,n;return{c(){t=text(e),n=text(" blocks")},l(s){t=claim_text(s,e),n=claim_text(s," blocks")},m(s,i){insert_hydration(s,t,i),insert_hydration(s,n,i)},p(s,i){var d;i&1&&e!==(e=((d=s[0])==null?void 0:d.price)+"")&&set_data(t,e)},d(s){s&&detach(t),s&&detach(n)}}}function create_fragment$5(l){let e,t,n,r,s,i,d,o,_,c=l[0]&&create_if_block_4$1(l),f=l[0]&&create_if_block_2$1(l),u=l[0]&&create_if_block$2(l);return{c(){e=element("div"),t=element("div"),c&&c.c(),n=space(),r=element("div"),f&&f.c(),s=space(),i=element("div"),u&&u.c(),this.h()},l(p){e=claim_element(p,"DIV",{class:!0});var m=children(e);t=claim_element(m,"DIV",{class:!0});var h=children(t);c&&c.l(h),h.forEach(detach),n=claim_space(m),r=claim_element(m,"DIV",{class:!0});var y=children(r);f&&f.l(y),y.forEach(detach),s=claim_space(m),i=claim_element(m,"DIV",{class:!0});var L=children(i);u&&u.l(L),L.forEach(detach),m.forEach(detach),this.h()},h(){attr(t,"class","left-side svelte-1s16een"),attr(r,"class","right-side"),attr(i,"class","bottom-right svelte-1s16een"),attr(e,"class","upgrade svelte-1s16een")},m(p,m){insert_hydration(p,e,m),append_hydration(e,t),c&&c.m(t,null),append_hydration(e,n),append_hydration(e,r),f&&f.m(r,null),append_hydration(e,s),append_hydration(e,i),u&&u.m(i,null),l[7](e),d=!0,o||(_=listen(e,"click",l[8]),o=!0)},p(p,[m]){p[0]?c?(c.p(p,m),m&1&&transition_in(c,1)):(c=create_if_block_4$1(p),c.c(),transition_in(c,1),c.m(t,null)):c&&(group_outros(),transition_out(c,1,1,()=>{c=null}),check_outros()),p[0]?f?f.p(p,m):(f=create_if_block_2$1(p),f.c(),f.m(r,null)):f&&(f.d(1),f=null),p[0]?u?u.p(p,m):(u=create_if_block$2(p),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(p){d||(transition_in(c),d=!0)},o(p){transition_out(c),d=!1},d(p){p&&detach(e),c&&c.d(),f&&f.d(),u&&u.d(),l[7](null),o=!1,_()}}}function instance$5(l,e,t){let{upgrade:n}=e,{onUpgrade:r}=e,{title:s=n?n.title:""}=e,{isExpesnive:i=!1}=e,d="",o;function _(u){d=u,t(4,d),t(0,n)}function c(u){binding_callbacks[u?"unshift":"push"](()=>{o=u,t(3,o)})}const f=()=>n?r(n):null;return l.$$set=u=>{"upgrade"in u&&t(0,n=u.upgrade),"onUpgrade"in u&&t(1,r=u.onUpgrade),"title"in u&&t(2,s=u.title),"isExpesnive"in u&&t(5,i=u.isExpesnive)},l.$$.update=()=>{l.$$.dirty&41&&o&&(i||!n?o.setAttribute("expensive",""):o.removeAttribute("expensive")),l.$$.dirty&1&&n&&t(4,d=n.namespace)},[n,r,s,o,d,i,_,c,f]}class Upgrade extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{upgrade:0,onUpgrade:1,title:2,isExpesnive:5})}}let ogConsole={log:console.log,error:console.error,warn:console.warn,debug:console.debug};var ConsoleManager;(ConsoleManager=>{let loggingStarted=!1,listensForErrors=!1;ConsoleManager.logEntries=[];let listeners=[];function startLogging(){loggingStarted||(ogConsole.log=console.log,ogConsole.error=console.error,ogConsole.warn=console.warn,ogConsole.debug=console.debug,console.log=log,console.warn=warn,console.error=consoleError,console.debug=debug,listensForErrors||(window.addEventListener("error",error),listensForErrors=!0),loggingStarted=!0)}ConsoleManager.startLogging=startLogging;function stopLogging(){!loggingStarted||(console.log=ogConsole.log,console.error=ogConsole.error,console.warn=ogConsole.warn,console.debug=ogConsole.debug,loggingStarted=!1)}ConsoleManager.stopLogging=stopLogging;function addListener(l){listeners.push(l)}ConsoleManager.addListener=addListener;function executeCommand(command){var l;if(!command.startsWith("/")){log(eval(command));return}let parsed=command.substring(1).replace(`
`,"").trim().split(" ");switch(parsed[0].toLowerCase()){case"blocks":let e=0;parsed.length<2?e=+((l=window.prompt("Input amount"))!=null?l:"0"):e=+parsed[1],blocks.set(e),log(`Setted ${e} blocks`);break;default:warn("Command not found");break}}ConsoleManager.executeCommand=executeCommand;function log(...l){ogConsole.log(...l),ConsoleManager.logEntries.push({type:"log",messages:l,time:Date.now()}),callListeners()}function warn(...l){ogConsole.log(...l),ConsoleManager.logEntries.push({type:"warn",messages:l,time:Date.now()}),callListeners()}function debug(...l){ogConsole.log(...l),ConsoleManager.logEntries.push({type:"debug",messages:l,time:Date.now()}),callListeners()}function consoleError(...l){ogConsole.log(...l),ConsoleManager.logEntries.push({type:"consoleerror",messages:l,time:Date.now()}),callListeners()}function error(l){ConsoleManager.logEntries.push({type:"error",messages:[l.message],time:Date.now(),errorInfo:{error:l.error,colno:l.colno,lineno:l.lineno,filename:l.filename}}),callListeners()}function callListeners(){listeners.forEach(l=>{l()})}})(ConsoleManager||(ConsoleManager={}));class LoadingManager{constructor(e,t){this.onFinishLoading=e,this.additionalTasks=t!=null?t:[]}async startLoading(){await new Promise(e=>{var t=setInterval(()=>{try{window!=null&&(clearInterval(t),e(null))}catch(n){let r=n;r.message.includes(" is not defined")||console.error(r)}},5)}),await new Promise(e=>{var t=setInterval(()=>{try{document!=null&&(clearInterval(t),e(null))}catch(n){let r=n;r.message.includes(" is not defined")||console.error(r)}},5)}),ConsoleManager.startLogging(),loadGame(),prepareAutosave(),await this.sleep(2e3);for(let e=0;e<this.additionalTasks.length;e++){let t=this.additionalTasks[e];await t()}this.onFinishLoading()}async sleep(e){await new Promise(t=>setTimeout(()=>t(null),e))}}const loading_svelte_svelte_type_style_lang="";function create_fragment$4(l){let e,t,n,r,s,i,d,o,_,c,f,u,p,m,h,y,L,B,E,w,K,F,S,C,O,G,P,A,x,g,M,V,U=getLocalizedString("splash-header","header")+"",I,D,$=getRandomSplash()+"",b;return{c(){e=element("div"),t=element("div"),r=space(),s=element("h1"),i=text("Block Clicker"),d=space(),o=element("div"),_=element("div"),c=element("div"),f=element("div"),u=element("img"),m=space(),h=element("div"),y=element("img"),B=space(),E=element("div"),w=element("img"),F=space(),S=element("div"),C=element("img"),G=space(),P=element("div"),A=element("img"),g=space(),M=element("div"),V=element("h1"),I=text(U),D=space(),b=text($),this.h()},l(v){e=claim_element(v,"DIV",{class:!0});var R=children(e);t=claim_element(R,"DIV",{class:!0,src:!0,style:!0});var q=children(t);q.forEach(detach),r=claim_space(R),s=claim_element(R,"H1",{class:!0});var N=children(s);i=claim_text(N,"Block Clicker"),N.forEach(detach),d=claim_space(R),o=claim_element(R,"DIV",{class:!0,style:!0});var X=children(o);_=claim_element(X,"DIV",{class:!0});var T=children(_);c=claim_element(T,"DIV",{class:!0});var j=children(c);f=claim_element(j,"DIV",{class:!0});var H=children(f);u=claim_element(H,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),H.forEach(detach),m=claim_space(j),h=claim_element(j,"DIV",{class:!0});var z=children(h);y=claim_element(z,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),z.forEach(detach),B=claim_space(j),E=claim_element(j,"DIV",{class:!0});var W=children(E);w=claim_element(W,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),W.forEach(detach),F=claim_space(j),S=claim_element(j,"DIV",{class:!0});var Y=children(S);C=claim_element(Y,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Y.forEach(detach),G=claim_space(j),P=claim_element(j,"DIV",{class:!0});var Q=children(P);A=claim_element(Q,"IMG",{alt:!0,draggable:!0,src:!0,class:!0}),Q.forEach(detach),j.forEach(detach),T.forEach(detach),g=claim_space(X),M=claim_element(X,"DIV",{class:!0});var J=children(M);V=claim_element(J,"H1",{class:!0});var Z=children(V);I=claim_text(Z,U),Z.forEach(detach),D=claim_space(J),b=claim_text(J,$),J.forEach(detach),X.forEach(detach),R.forEach(detach),this.h()},h(){attr(t,"class","bg-img svelte-h2fuhd"),src_url_equal(t.src,n=l[5]())||attr(t,"src",n),set_style(t,"background-image","url("+l[5]()+")"),attr(s,"class","header svelte-h2fuhd"),attr(u,"alt",""),attr(u,"draggable","false"),src_url_equal(u.src,p=l[2])||attr(u,"src",p),attr(u,"class","svelte-h2fuhd"),attr(f,"class","backright svelte-h2fuhd"),attr(y,"alt",""),attr(y,"draggable","false"),src_url_equal(y.src,L=l[3])||attr(y,"src",L),attr(y,"class","svelte-h2fuhd"),attr(h,"class","backleft svelte-h2fuhd"),attr(w,"alt",""),attr(w,"draggable","false"),src_url_equal(w.src,K=l[1])||attr(w,"src",K),attr(w,"class","svelte-h2fuhd"),attr(E,"class","right svelte-h2fuhd"),attr(C,"alt",""),attr(C,"draggable","false"),src_url_equal(C.src,O=l[0])||attr(C,"src",O),attr(C,"class","svelte-h2fuhd"),attr(S,"class","left svelte-h2fuhd"),attr(A,"alt",""),attr(A,"draggable","false"),src_url_equal(A.src,x=l[4])||attr(A,"src",x),attr(A,"class","svelte-h2fuhd"),attr(P,"class","top svelte-h2fuhd"),attr(c,"class","block-cube svelte-h2fuhd"),attr(_,"class","cube-wrapper svelte-h2fuhd"),attr(V,"class","svelte-h2fuhd"),attr(M,"class","splash svelte-h2fuhd"),attr(o,"class","bg svelte-h2fuhd"),set_style(o,"--background-image","url("+l[5]()+")"),attr(e,"class","bg svelte-h2fuhd")},m(v,R){insert_hydration(v,e,R),append_hydration(e,t),append_hydration(e,r),append_hydration(e,s),append_hydration(s,i),append_hydration(e,d),append_hydration(e,o),append_hydration(o,_),append_hydration(_,c),append_hydration(c,f),append_hydration(f,u),append_hydration(c,m),append_hydration(c,h),append_hydration(h,y),append_hydration(c,B),append_hydration(c,E),append_hydration(E,w),append_hydration(c,F),append_hydration(c,S),append_hydration(S,C),append_hydration(c,G),append_hydration(c,P),append_hydration(P,A),append_hydration(o,g),append_hydration(o,M),append_hydration(M,V),append_hydration(V,I),append_hydration(M,D),append_hydration(M,b)},p(v,[R]){R&4&&!src_url_equal(u.src,p=v[2])&&attr(u,"src",p),R&8&&!src_url_equal(y.src,L=v[3])&&attr(y,"src",L),R&2&&!src_url_equal(w.src,K=v[1])&&attr(w,"src",K),R&1&&!src_url_equal(C.src,O=v[0])&&attr(C,"src",O),R&16&&!src_url_equal(A.src,x=v[4])&&attr(A,"src",x)},i:noop,o:noop,d(v){v&&detach(e)}}}function instance$4(l,e,t){let n,r,s,i,d,o=blockUpgrades.filter(c=>c.textureMode!=="sided"&&!c.isDisabled).pick();function _(){return o.textureMode==="all"?`${URL_PREFIX}/img/blocks/${o.namespace}/all.${o.imageExtension}`:`${URL_PREFIX}/img/blocks/${o.namespace}/bottom.${o.imageExtension}`}switch(o.textureMode){case"all":n=`${URL_PREFIX}/img/blocks/${o.namespace}/all.jpg`,d=`${URL_PREFIX}/img/blocks/${o.namespace}/all.jpg`,r=`${URL_PREFIX}/img/blocks/${o.namespace}/all.jpg`,s=`${URL_PREFIX}/img/blocks/${o.namespace}/all.jpg`,i=`${URL_PREFIX}/img/blocks/${o.namespace}/all.jpg`;break;case"bottomtop":n=`${URL_PREFIX}/img/blocks/${o.namespace}/bottom.jpg`,d=`${URL_PREFIX}/img/blocks/${o.namespace}/top.jpg`,r=`${URL_PREFIX}/img/blocks/${o.namespace}/bottom.jpg`,s=`${URL_PREFIX}/img/blocks/${o.namespace}/bottom.jpg`,i=`${URL_PREFIX}/img/blocks/${o.namespace}/bottom.jpg`;break}return[n,r,s,i,d,_]}class Loading extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{})}}const DebugButton_svelte_svelte_type_style_lang="";function create_fragment$3(l){let e,t,n,r,s;const i=l[2].default,d=create_slot(i,l,l[1],null);return{c(){e=element("div"),t=element("div"),d&&d.c(),this.h()},l(o){e=claim_element(o,"DIV",{class:!0});var _=children(e);t=claim_element(_,"DIV",{class:!0});var c=children(t);d&&d.l(c),c.forEach(detach),_.forEach(detach),this.h()},h(){attr(t,"class","content svelte-18avp1y"),attr(e,"class","btn svelte-18avp1y")},m(o,_){insert_hydration(o,e,_),append_hydration(e,t),d&&d.m(t,null),n=!0,r||(s=listen(e,"click",l[3]),r=!0)},p(o,[_]){d&&d.p&&(!n||_&2)&&update_slot_base(d,i,o,o[1],n?get_slot_changes(i,o[1],_,null):get_all_dirty_from_scope(o[1]),null)},i(o){n||(transition_in(d,o),n=!0)},o(o){transition_out(d,o),n=!1},d(o){o&&detach(e),d&&d.d(o),r=!1,s()}}}function instance$3(l,e,t){let{$$slots:n={},$$scope:r}=e;const s=createEventDispatcher(),i=d=>s("click",{event:d});return l.$$set=d=>{"$$scope"in d&&t(1,r=d.$$scope)},[s,r,n,i]}class DebugButton extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{})}}const DebugMenu_svelte_svelte_type_style_lang="";function create_default_slot_1(l){let e;return{c(){e=text("Clear save")},l(t){e=claim_text(t,"Clear save")},m(t,n){insert_hydration(t,e,n)},d(t){t&&detach(e)}}}function create_default_slot(l){let e;return{c(){e=text("Add 100 blocks")},l(t){e=claim_text(t,"Add 100 blocks")},m(t,n){insert_hydration(t,e,n)},d(t){t&&detach(e)}}}function create_fragment$2(l){let e,t,n,r,s,i,d,o,_,c,f,u;return d=new DebugButton({props:{$$slots:{default:[create_default_slot_1]},$$scope:{ctx:l}}}),d.$on("click",clearSave),_=new DebugButton({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:l}}}),_.$on("click",l[1]),{c(){e=element("div"),t=element("div"),n=element("h1"),r=text("Block Clicker debugmenu"),s=space(),i=element("div"),create_component(d.$$.fragment),o=space(),create_component(_.$$.fragment),this.h()},l(p){e=claim_element(p,"DIV",{id:!0,class:!0});var m=children(e);t=claim_element(m,"DIV",{class:!0});var h=children(t);n=claim_element(h,"H1",{style:!0});var y=children(n);r=claim_text(y,"Block Clicker debugmenu"),y.forEach(detach),s=claim_space(h),i=claim_element(h,"DIV",{});var L=children(i);claim_component(d.$$.fragment,L),o=claim_space(L),claim_component(_.$$.fragment,L),L.forEach(detach),h.forEach(detach),m.forEach(detach),this.h()},h(){set_style(n,"text-align","center"),attr(t,"class","inner-parent svelte-141t99x"),attr(e,"id","debug-menu"),attr(e,"class","svelte-141t99x")},m(p,m){insert_hydration(p,e,m),append_hydration(e,t),append_hydration(t,n),append_hydration(n,r),append_hydration(t,s),append_hydration(t,i),mount_component(d,i,null),append_hydration(i,o),mount_component(_,i,null),c=!0,f||(u=listen(e,"click",l[2]),f=!0)},p(p,[m]){const h={};m&16&&(h.$$scope={dirty:m,ctx:p}),d.$set(h);const y={};m&16&&(y.$$scope={dirty:m,ctx:p}),_.$set(y)},i(p){c||(transition_in(d.$$.fragment,p),transition_in(_.$$.fragment,p),c=!0)},o(p){transition_out(d.$$.fragment,p),transition_out(_.$$.fragment,p),c=!1},d(p){p&&detach(e),destroy_component(d),destroy_component(_),f=!1,u()}}}function instance$2(l){const e=createEventDispatcher();function t(s){s.target===this&&(console.log(typeof this),e("dimissed"))}return[t,()=>blocks.update(s=>s+100),function(s){t.bind(this)(s)}]}class DebugMenu extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}var isff=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function addEvent(l,e,t,n){l.addEventListener?l.addEventListener(e,t,n):l.attachEvent&&l.attachEvent("on".concat(e),function(){t(window.event)})}function getMods(l,e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=l[t[n].toLowerCase()];return t}function getKeys(l){typeof l!="string"&&(l=""),l=l.replace(/\s/g,"");for(var e=l.split(","),t=e.lastIndexOf("");t>=0;)e[t-1]+=",",e.splice(t,1),t=e.lastIndexOf("");return e}function compareArray(l,e){for(var t=l.length>=e.length?l:e,n=l.length>=e.length?e:l,r=!0,s=0;s<t.length;s++)n.indexOf(t[s])===-1&&(r=!1);return r}var _keyMap={backspace:8,"\u232B":8,tab:9,clear:12,enter:13,"\u21A9":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"\u21EA":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"[":219,"]":221,"\\":220},_modifier={"\u21E7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,cmd:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={};for(var k=1;k<20;k++)_keyMap["f".concat(k)]=111+k;var _downKeys=[],winListendFocus=!1,_scope="all",elementHasBindEvent=[],code=function l(e){return _keyMap[e.toLowerCase()]||_modifier[e.toLowerCase()]||e.toUpperCase().charCodeAt(0)},getKey=function l(e){return Object.keys(_keyMap).find(function(t){return _keyMap[t]===e})},getModifier=function l(e){return Object.keys(_modifier).find(function(t){return _modifier[t]===e})};function setScope(l){_scope=l||"all"}function getScope(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function getPressedKeyString(){return _downKeys.map(function(l){return getKey(l)||getModifier(l)||String.fromCharCode(l)})}function filter(l){var e=l.target||l.srcElement,t=e.tagName,n=!0;return(e.isContentEditable||(t==="INPUT"||t==="TEXTAREA"||t==="SELECT")&&!e.readOnly)&&(n=!1),n}function isPressed(l){return typeof l=="string"&&(l=code(l)),_downKeys.indexOf(l)!==-1}function deleteScope(l,e){var t,n;l||(l=getScope());for(var r in _handlers)if(Object.prototype.hasOwnProperty.call(_handlers,r))for(t=_handlers[r],n=0;n<t.length;)t[n].scope===l?t.splice(n,1):n++;getScope()===l&&setScope(e||"all")}function clearModifier(l){var e=l.keyCode||l.which||l.charCode,t=_downKeys.indexOf(e);if(t>=0&&_downKeys.splice(t,1),l.key&&l.key.toLowerCase()==="meta"&&_downKeys.splice(0,_downKeys.length),(e===93||e===224)&&(e=91),e in _mods){_mods[e]=!1;for(var n in _modifier)_modifier[n]===e&&(hotkeys[n]=!1)}}function unbind(l){if(typeof l>"u")Object.keys(_handlers).forEach(function(i){return delete _handlers[i]});else if(Array.isArray(l))l.forEach(function(i){i.key&&eachUnbind(i)});else if(typeof l=="object")l.key&&eachUnbind(l);else if(typeof l=="string"){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];var r=t[0],s=t[1];typeof r=="function"&&(s=r,r=""),eachUnbind({key:l,scope:r,method:s,splitKey:"+"})}}var eachUnbind=function l(e){var t=e.key,n=e.scope,r=e.method,s=e.splitKey,i=s===void 0?"+":s,d=getKeys(t);d.forEach(function(o){var _=o.split(i),c=_.length,f=_[c-1],u=f==="*"?"*":code(f);if(!!_handlers[u]){n||(n=getScope());var p=c>1?getMods(_modifier,_):[];_handlers[u]=_handlers[u].filter(function(m){var h=r?m.method===r:!0;return!(h&&m.scope===n&&compareArray(m.mods,p))})}})};function eventHandler(l,e,t,n){if(e.element===n){var r;if(e.scope===t||e.scope==="all"){r=e.mods.length>0;for(var s in _mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(!_mods[s]&&e.mods.indexOf(+s)>-1||_mods[s]&&e.mods.indexOf(+s)===-1)&&(r=!1);(e.mods.length===0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||r||e.shortcut==="*")&&e.method(l,e)===!1&&(l.preventDefault?l.preventDefault():l.returnValue=!1,l.stopPropagation&&l.stopPropagation(),l.cancelBubble&&(l.cancelBubble=!0))}}}function dispatch(l,e){var t=_handlers["*"],n=l.keyCode||l.which||l.charCode;if(!!hotkeys.filter.call(this,l)){if((n===93||n===224)&&(n=91),_downKeys.indexOf(n)===-1&&n!==229&&_downKeys.push(n),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(m){var h=modifierMap[m];l[m]&&_downKeys.indexOf(h)===-1?_downKeys.push(h):!l[m]&&_downKeys.indexOf(h)>-1?_downKeys.splice(_downKeys.indexOf(h),1):m==="metaKey"&&l[m]&&_downKeys.length===3&&(l.ctrlKey||l.shiftKey||l.altKey||(_downKeys=_downKeys.slice(_downKeys.indexOf(h))))}),n in _mods){_mods[n]=!0;for(var r in _modifier)_modifier[r]===n&&(hotkeys[r]=!0);if(!t)return}for(var s in _mods)Object.prototype.hasOwnProperty.call(_mods,s)&&(_mods[s]=l[modifierMap[s]]);l.getModifierState&&!(l.altKey&&!l.ctrlKey)&&l.getModifierState("AltGraph")&&(_downKeys.indexOf(17)===-1&&_downKeys.push(17),_downKeys.indexOf(18)===-1&&_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);var i=getScope();if(t)for(var d=0;d<t.length;d++)t[d].scope===i&&(l.type==="keydown"&&t[d].keydown||l.type==="keyup"&&t[d].keyup)&&eventHandler(l,t[d],i,e);if(n in _handlers){for(var o=0;o<_handlers[n].length;o++)if((l.type==="keydown"&&_handlers[n][o].keydown||l.type==="keyup"&&_handlers[n][o].keyup)&&_handlers[n][o].key){for(var _=_handlers[n][o],c=_.splitKey,f=_.key.split(c),u=[],p=0;p<f.length;p++)u.push(code(f[p]));u.sort().join("")===_downKeys.sort().join("")&&eventHandler(l,_,i,e)}}}}function isElementBind(l){return elementHasBindEvent.indexOf(l)>-1}function hotkeys(l,e,t){_downKeys=[];var n=getKeys(l),r=[],s="all",i=document,d=0,o=!1,_=!0,c="+",f=!1;for(t===void 0&&typeof e=="function"&&(t=e),Object.prototype.toString.call(e)==="[object Object]"&&(e.scope&&(s=e.scope),e.element&&(i=e.element),e.keyup&&(o=e.keyup),e.keydown!==void 0&&(_=e.keydown),e.capture!==void 0&&(f=e.capture),typeof e.splitKey=="string"&&(c=e.splitKey)),typeof e=="string"&&(s=e);d<n.length;d++)l=n[d].split(c),r=[],l.length>1&&(r=getMods(_modifier,l)),l=l[l.length-1],l=l==="*"?"*":code(l),l in _handlers||(_handlers[l]=[]),_handlers[l].push({keyup:o,keydown:_,scope:s,mods:r,shortcut:n[d],method:t,key:n[d],splitKey:c,element:i});typeof i<"u"&&!isElementBind(i)&&window&&(elementHasBindEvent.push(i),addEvent(i,"keydown",function(u){dispatch(u,i)},f),winListendFocus||(winListendFocus=!0,addEvent(window,"focus",function(){_downKeys=[]},f)),addEvent(i,"keyup",function(u){dispatch(u,i),clearModifier(u)},f))}function trigger(l){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(_handlers).forEach(function(t){var n=_handlers[t].find(function(r){return r.scope===e&&r.shortcut===l});n&&n.method&&n.method()})}var _api={getPressedKeyString,setScope,getScope,deleteScope,getPressedKeyCodes,isPressed,filter,trigger,unbind,keyMap:_keyMap,modifier:_modifier,modifierMap};for(var a in _api)Object.prototype.hasOwnProperty.call(_api,a)&&(hotkeys[a]=_api[a]);if(typeof window<"u"){var _hotkeys=window.hotkeys;hotkeys.noConflict=function(l){return l&&window.hotkeys===hotkeys&&(window.hotkeys=_hotkeys),hotkeys},window.hotkeys=hotkeys}const DebugConsole_svelte_svelte_type_style_lang="";function get_each_context(l,e,t){const n=l.slice();return n[10]=e[t],n}function create_if_block$1(l){let e,t,n,r,s,i,d,o=l[2],_=[];for(let c=0;c<o.length;c+=1)_[c]=create_each_block(get_each_context(l,o,c));return{c(){e=element("div"),t=element("div"),n=element("div");for(let c=0;c<_.length;c+=1)_[c].c();r=space(),s=element("textarea"),this.h()},l(c){e=claim_element(c,"DIV",{id:!0,class:!0});var f=children(e);t=claim_element(f,"DIV",{class:!0});var u=children(t);n=claim_element(u,"DIV",{class:!0});var p=children(n);for(let m=0;m<_.length;m+=1)_[m].l(p);p.forEach(detach),r=claim_space(u),s=claim_element(u,"TEXTAREA",{spellcheck:!0,class:!0}),children(s).forEach(detach),u.forEach(detach),f.forEach(detach),this.h()},h(){attr(n,"class","console-output svelte-j44jgt"),attr(s,"spellcheck","false"),attr(s,"class","command-input svelte-j44jgt"),attr(t,"class","inner-parent svelte-j44jgt"),attr(e,"id","debug-console"),attr(e,"class","svelte-j44jgt")},m(c,f){insert_hydration(c,e,f),append_hydration(e,t),append_hydration(t,n);for(let u=0;u<_.length;u+=1)_[u].m(n,null);append_hydration(t,r),append_hydration(t,s),l[5](s),i||(d=[listen(s,"keydown",l[3]),listen(e,"mousedown",l[6])],i=!0)},p(c,f){if(f&4){o=c[2];let u;for(u=0;u<o.length;u+=1){const p=get_each_context(c,o,u);_[u]?_[u].p(p,f):(_[u]=create_each_block(p),_[u].c(),_[u].m(n,null))}for(;u<_.length;u+=1)_[u].d(1);_.length=o.length}},d(c){c&&detach(e),destroy_each(_,c),l[5](null),i=!1,run_all(d)}}}function create_each_block(l){let e,t,n,r=msToTimeFormatted(l[10].time)+"",s,i,d,o,_,c=l[10].type+"",f,u,p,m,h=l[10].messages+"",y,L,B;return{c(){e=element("div"),t=element("span"),n=text("["),s=text(r),i=text("]"),d=space(),o=element("span"),_=text("["),f=text(c),u=text("]"),p=space(),m=element("span"),y=text(h),L=space(),this.h()},l(E){e=claim_element(E,"DIV",{class:!0});var w=children(e);t=claim_element(w,"SPAN",{class:!0});var K=children(t);n=claim_text(K,"["),s=claim_text(K,r),i=claim_text(K,"]"),K.forEach(detach),d=claim_space(w),o=claim_element(w,"SPAN",{class:!0});var F=children(o);_=claim_text(F,"["),f=claim_text(F,c),u=claim_text(F,"]"),F.forEach(detach),p=claim_space(w),m=claim_element(w,"SPAN",{});var S=children(m);y=claim_text(S,h),S.forEach(detach),L=claim_space(w),w.forEach(detach),this.h()},h(){attr(t,"class","time"),attr(o,"class","time"),attr(e,"class",B=null_to_empty(`log-entry log-entry-${l[10].type}`)+" svelte-j44jgt")},m(E,w){insert_hydration(E,e,w),append_hydration(e,t),append_hydration(t,n),append_hydration(t,s),append_hydration(t,i),append_hydration(e,d),append_hydration(e,o),append_hydration(o,_),append_hydration(o,f),append_hydration(o,u),append_hydration(e,p),append_hydration(e,m),append_hydration(m,y),append_hydration(e,L)},p(E,w){w&4&&r!==(r=msToTimeFormatted(E[10].time)+"")&&set_data(s,r),w&4&&c!==(c=E[10].type+"")&&set_data(f,c),w&4&&h!==(h=E[10].messages+"")&&set_data(y,h),w&4&&B!==(B=null_to_empty(`log-entry log-entry-${E[10].type}`)+" svelte-j44jgt")&&attr(e,"class",B)},d(E){E&&detach(e)}}}function create_fragment$1(l){let e,t=l[0]&&create_if_block$1(l);return{c(){t&&t.c(),e=empty()},l(n){t&&t.l(n),e=empty()},m(n,r){t&&t.m(n,r),insert_hydration(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=create_if_block$1(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:noop,o:noop,d(n){t&&t.d(n),n&&detach(e)}}}function msToTimeFormatted(l){let e=new Date(l);return`${e.getHours()}:${normalizeDatePart(e.getMinutes())}:${normalizeDatePart(e.getSeconds())}`}function normalizeDatePart(l){return l<10?`0${l.toString()}`:l.toString()}function instance$1(l,e,t){let n,{visible:r=!1}=e;const s=createEventDispatcher();let i=[],d=[];onMount(()=>{ConsoleManager.addListener(o)});function o(){t(2,i=ConsoleManager.logEntries)}function _(p){let m=n.selectionStart;console.log(m),p.key==="Enter"&&!p.ctrlKey&&(p.preventDefault(),ConsoleManager.executeCommand(n.value),d.push(n.value),t(1,n.value="",n)),p.code==="Enter"&&p.ctrlKey&&(p.preventDefault(),t(1,n.value=`
`,n))}function c(p){p.target===this&&(console.log(typeof this),s("dimissed"))}function f(p){binding_callbacks[p?"unshift":"push"](()=>{n=p,t(1,n)})}const u=function(p){c.bind(this)(p)};return l.$$set=p=>{"visible"in p&&t(0,r=p.visible)},[r,n,i,_,c,f,u]}class DebugConsole extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{visible:0})}}const _page_svelte_svelte_type_style_lang="";function create_if_block_4(l){let e,t;return e=new Loading({}),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,r){mount_component(e,n,r),t=!0},i(n){t||(transition_in(e.$$.fragment,n),t=!0)},o(n){transition_out(e.$$.fragment,n),t=!1},d(n){destroy_component(e,n)}}}function create_if_block_2(l){let e,t,n,r=l[8]&&create_if_block_3(l);return t=new DebugConsole({props:{visible:l[9]}}),t.$on("dimissed",l[15]),{c(){r&&r.c(),e=space(),create_component(t.$$.fragment)},l(s){r&&r.l(s),e=claim_space(s),claim_component(t.$$.fragment,s)},m(s,i){r&&r.m(s,i),insert_hydration(s,e,i),mount_component(t,s,i),n=!0},p(s,i){s[8]?r?(r.p(s,i),i&256&&transition_in(r,1)):(r=create_if_block_3(s),r.c(),transition_in(r,1),r.m(e.parentNode,e)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros());const d={};i&512&&(d.visible=s[9]),t.$set(d)},i(s){n||(transition_in(r),transition_in(t.$$.fragment,s),n=!0)},o(s){transition_out(r),transition_out(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&detach(e),destroy_component(t,s)}}}function create_if_block_3(l){let e,t;return e=new DebugMenu({}),e.$on("dimissed",l[14]),{c(){create_component(e.$$.fragment)},l(n){claim_component(e.$$.fragment,n)},m(n,r){mount_component(e,n,r),t=!0},p:noop,i(n){t||(transition_in(e.$$.fragment,n),t=!0)},o(n){transition_out(e.$$.fragment,n),t=!1},d(n){destroy_component(e,n)}}}function create_if_block_1(l){let e,t;return{c(){e=element("sub"),t=text("DEBUG ENABLED")},l(n){e=claim_element(n,"SUB",{});var r=children(e);t=claim_text(r,"DEBUG ENABLED"),r.forEach(detach)},m(n,r){insert_hydration(n,e,r),append_hydration(e,t)},d(n){n&&detach(e)}}}function create_if_block(l){let e,t,n,r,s;function i(_){l[20](_)}function d(_){l[21](_)}let o={onUpgrade:l[13],title:"Block upgrade"};return l[6]!==void 0&&(o.isExpesnive=l[6]),l[0]!==void 0&&(o.upgrade=l[0]),t=new Upgrade({props:o}),binding_callbacks.push(()=>bind(t,"isExpesnive",i)),binding_callbacks.push(()=>bind(t,"upgrade",d)),{c(){e=element("div"),create_component(t.$$.fragment),this.h()},l(_){e=claim_element(_,"DIV",{class:!0});var c=children(e);claim_component(t.$$.fragment,c),c.forEach(detach),this.h()},h(){attr(e,"class","upgrades")},m(_,c){insert_hydration(_,e,c),mount_component(t,e,null),s=!0},p(_,c){const f={};!n&&c&64&&(n=!0,f.isExpesnive=_[6],add_flush_callback(()=>n=!1)),!r&&c&1&&(r=!0,f.upgrade=_[0],add_flush_callback(()=>r=!1)),t.$set(f)},i(_){s||(transition_in(t.$$.fragment,_),s=!0)},o(_){transition_out(t.$$.fragment,_),s=!1},d(_){_&&detach(e),destroy_component(t)}}}function create_fragment(l){let e,t,n,r,s=Math.trunc(l[10])+"",i,d,o,_,c,f,u,p,m,h,y,L,B,E,w,K,F,S,C,O,G,P,A,x,g,M,V,U=!l[4]&&create_if_block_4(),I=l[7]&&create_if_block_2(l),D=l[7]&&create_if_block_1(),$=l[5]&&create_if_block(l);return{c(){U&&U.c(),e=space(),I&&I.c(),t=space(),n=element("div"),r=element("h1"),i=text(s),d=text(" blocks"),o=space(),_=element("h3"),c=text("x"),f=text(l[11]),u=space(),p=element("h3"),m=text(l[12]),h=text(" bps"),y=space(),D&&D.c(),L=space(),B=element("div"),E=element("div"),w=element("div"),K=element("img"),F=space(),S=element("div"),C=element("img"),O=space(),G=element("div"),P=element("img"),A=space(),$&&$.c(),x=empty(),this.h()},l(b){U&&U.l(b),e=claim_space(b),I&&I.l(b),t=claim_space(b),n=claim_element(b,"DIV",{class:!0});var v=children(n);r=claim_element(v,"H1",{});var R=children(r);i=claim_text(R,s),d=claim_text(R," blocks"),R.forEach(detach),o=claim_space(v),_=claim_element(v,"H3",{});var q=children(_);c=claim_text(q,"x"),f=claim_text(q,l[11]),q.forEach(detach),u=claim_space(v),p=claim_element(v,"H3",{});var N=children(p);m=claim_text(N,l[12]),h=claim_text(N," bps"),N.forEach(detach),y=claim_space(v),D&&D.l(v),v.forEach(detach),L=claim_space(b),B=claim_element(b,"DIV",{class:!0});var X=children(B);E=claim_element(X,"DIV",{id:!0});var T=children(E);w=claim_element(T,"DIV",{class:!0});var j=children(w);K=claim_element(j,"IMG",{alt:!0,draggable:!0}),j.forEach(detach),F=claim_space(T),S=claim_element(T,"DIV",{class:!0});var H=children(S);C=claim_element(H,"IMG",{alt:!0,draggable:!0}),H.forEach(detach),O=claim_space(T),G=claim_element(T,"DIV",{class:!0});var z=children(G);P=claim_element(z,"IMG",{alt:!0,draggable:!0}),z.forEach(detach),T.forEach(detach),X.forEach(detach),A=claim_space(b),$&&$.l(b),x=empty(),this.h()},h(){attr(n,"class","blocks-header"),attr(K,"alt",""),attr(K,"draggable","false"),attr(w,"class","right"),attr(C,"alt",""),attr(C,"draggable","false"),attr(S,"class","left"),attr(P,"alt",""),attr(P,"draggable","false"),attr(G,"class","top"),attr(E,"id","block"),attr(B,"class","block-over")},m(b,v){U&&U.m(b,v),insert_hydration(b,e,v),I&&I.m(b,v),insert_hydration(b,t,v),insert_hydration(b,n,v),append_hydration(n,r),append_hydration(r,i),append_hydration(r,d),append_hydration(n,o),append_hydration(n,_),append_hydration(_,c),append_hydration(_,f),append_hydration(n,u),append_hydration(n,p),append_hydration(p,m),append_hydration(p,h),append_hydration(n,y),D&&D.m(n,null),insert_hydration(b,L,v),insert_hydration(b,B,v),append_hydration(B,E),append_hydration(E,w),append_hydration(w,K),l[16](K),append_hydration(E,F),append_hydration(E,S),append_hydration(S,C),l[17](C),append_hydration(E,O),append_hydration(E,G),append_hydration(G,P),l[18](P),insert_hydration(b,A,v),$&&$.m(b,v),insert_hydration(b,x,v),g=!0,M||(V=listen(E,"click",l[19]),M=!0)},p(b,[v]){b[4]?U&&(group_outros(),transition_out(U,1,1,()=>{U=null}),check_outros()):U?v&16&&transition_in(U,1):(U=create_if_block_4(),U.c(),transition_in(U,1),U.m(e.parentNode,e)),b[7]?I?(I.p(b,v),v&128&&transition_in(I,1)):(I=create_if_block_2(b),I.c(),transition_in(I,1),I.m(t.parentNode,t)):I&&(group_outros(),transition_out(I,1,1,()=>{I=null}),check_outros()),(!g||v&1024)&&s!==(s=Math.trunc(b[10])+"")&&set_data(i,s),(!g||v&2048)&&set_data(f,b[11]),(!g||v&4096)&&set_data(m,b[12]),b[7]?D||(D=create_if_block_1(),D.c(),D.m(n,null)):D&&(D.d(1),D=null),b[5]?$?($.p(b,v),v&32&&transition_in($,1)):($=create_if_block(b),$.c(),transition_in($,1),$.m(x.parentNode,x)):$&&(group_outros(),transition_out($,1,1,()=>{$=null}),check_outros())},i(b){g||(transition_in(U),transition_in(I),transition_in($),g=!0)},o(b){transition_out(U),transition_out(I),transition_out($),g=!1},d(b){U&&U.d(b),b&&detach(e),I&&I.d(b),b&&detach(t),b&&detach(n),D&&D.d(),b&&detach(L),b&&detach(B),l[16](null),l[17](null),l[18](null),b&&detach(A),$&&$.d(b),b&&detach(x),M=!1,V()}}}function instance(l,e,t){let n,r,s,i=writable(!1),d=!1,o,_=new LoadingManager(K),c,f=!0,u=!1,p=!1,m=!1,h=get_store_value(blocks),y=get_store_value(multiplier),L=get_store_value(bps);blocks.subscribe(g=>t(10,h=g)),multiplier.subscribe(g=>t(11,y=g)),bps.subscribe(g=>t(12,L=g)),setInterval(()=>{let g=get_store_value(bps)*.005;blocks.update(M=>M+g)},1),i.subscribe(g=>t(4,d=g)),_.startLoading(),blocks.subscribe(g=>{try{document.title=`${Math.trunc(h)} blocks - Block Clicker`,c&&t(6,f=c.price>g||c.namespace==="_null")}catch(M){console.error(M)}});const B={getBlocks:()=>get_store_value(blocks),getMultiplier:()=>get_store_value(multiplier),getBps:()=>get_store_value(bps)},E={setBlocks:g=>blocks.set(g),setMultiplier:g=>multiplier.set(g),setBps:g=>bps.set(g)};function w(g){let M=UpgradeManager.fromArbitiaryBlock(g);o.ApplyBlockUpgrade(M)&&t(0,c=o.GetNextBlockUpgrade()?UpgradeManager.toArbitiaryBlock(o.GetNextBlockUpgradeSure()):void 0),t(0,c)}async function K(){var g,M;i.set(!0),t(7,u=location.hash==="#enable-debug"),window.addEventListener("hashchange",V=>{location.hash==="#enable-debug"?t(7,u=confirm("Enable debug mode?")):t(7,u=!1)}),hotkeys("ctrl+alt+f1, ctrl+alt+f2",function(V,U){switch(V.preventDefault(),console.log(U.key),U.key){case"ctrl+alt+f1":t(8,p=!p);break;case"ctrl+alt+f2":t(9,m=!m);break}}),t(5,o=new UpgradeManager(n,s,r,B,E)),t(0,c=UpgradeManager.toArbitiaryBlock(o.GetNextBlockUpgradeSure())),(g=document.getElementById("block"))==null||g.addEventListener("mouseenter",()=>document.body.setAttribute("noselect","")),(M=document.getElementById("block"))==null||M.addEventListener("mouseleave",()=>document.body.removeAttribute("noselect")),window.addEventListener("beforeunload",V=>{i.set(!1)})}const F=()=>t(8,p=!1),S=()=>t(9,m=!1);function C(g){binding_callbacks[g?"unshift":"push"](()=>{r=g,t(2,r)})}function O(g){binding_callbacks[g?"unshift":"push"](()=>{n=g,t(1,n)})}function G(g){binding_callbacks[g?"unshift":"push"](()=>{s=g,t(3,s)})}const P=()=>blocks.update(g=>g+get_store_value(multiplier));function A(g){f=g,t(6,f)}function x(g){c=g,t(0,c)}return l.$$.update=()=>{l.$$.dirty&1&&console.log("Next block up",c)},[c,n,r,s,d,o,f,u,p,m,h,y,L,w,F,S,C,O,G,P,A,x]}class Page extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{})}}export{Page as default};
